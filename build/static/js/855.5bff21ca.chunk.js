"use strict";(self.webpackChunkhrm=self.webpackChunkhrm||[]).push([[855],{8855:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var a=n(2791),s=n(9434),r=n(8334),i=(n(594),n(8116)),l=n(3360),o=n(4688),c=n(9485),d=n(1734),u=n(2591),x=n(5316),m=n(4849),h=n(4608),j=n(5086),g=n(8746),p=n(2447),v=n(184);const E=function(e){const t=(0,s.I0)(),n=e.jwt,E=e.notify,[b,f]=(0,a.useState)((new Date).toISOString().substring(0,10)),N=(0,a.useRef)(),Z=(0,s.v9)((e=>e.attendance)),[y,w]=(0,a.useState)(""),[S,O]=(0,a.useState)("");(0,a.useEffect)((()=>{t((0,r.go)({jwt:n,date:(new Date).toISOString().substring(0,10)}))}),[t,n]),(0,a.useEffect)((()=>{Z.isError||(k(!1),t((0,r.qP)()))}),[Z.isError,t]);const T=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(f((new Date).toISOString().substring(0,10)),t((0,r.go)({jwt:n,date:(new Date).toISOString().substring(0,10)}))):t((0,r.go)({jwt:n,date:b}))};let C=[];for(let a=1;a<=Z.totalpages;a++)C.push((0,v.jsx)(i.Z.Item,{active:a===Number(Z.currentpage),onClick:()=>I(a),children:a},a));const I=e=>{t((0,r.go)({jwt:n,pageno:e,date:b}))},[P,k]=(0,a.useState)(!1);return(0,v.jsxs)("div",{className:"page-section p-4",children:[(0,v.jsxs)("div",{className:"employees chart",children:[(0,v.jsxs)("div",{className:"d-md-flex d-block justify-content-between",children:[(0,v.jsx)("h4",{className:"",children:"Daily Attendace Report"}),(0,v.jsx)(l.Z,{variant:"dark",onClick:()=>{k(!0)},children:"+ Manual Attendance"})]}),(0,v.jsxs)("div",{className:"row align-items-center my-2",children:[(0,v.jsx)("div",{className:"col-xl-3 col-lg-4 col-12 mt-2",children:(0,v.jsx)(o.Z.Control,{type:"date",value:b,onChange:e=>{f(e.target.value)}})}),(0,v.jsxs)("div",{className:"col-xl-3 col-lg-4 col-12 mt-2",children:[(0,v.jsx)(l.Z,{variant:"danger",onClick:()=>T(),children:"Search"}),"\xa0\xa0\xa0",(0,v.jsx)(l.Z,{variant:"dark",onClick:()=>T(!0),children:"Reset"})]})]}),(0,v.jsx)(c.Z,{defaultActiveKey:"active",id:"uncontrolled-tab-example",className:"mb-3",children:(0,v.jsx)(d.Z,{eventKey:"active",title:"Active",children:(0,v.jsxs)("div",{className:"responsive mt-4",children:[(0,v.jsxs)(u.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"text-white",children:"S.No."}),(0,v.jsx)("th",{className:"text-white",children:"Employee"}),(0,v.jsx)("th",{className:"text-white",children:"Date"}),(0,v.jsx)("th",{className:"text-white",children:"Shift"}),(0,v.jsx)("th",{className:"text-white",children:"Check\u2800In"}),(0,v.jsx)("th",{className:"text-white",children:"Check\u2800Out"}),(0,v.jsx)("th",{className:"text-white",children:"Late"}),(0,v.jsx)("th",{className:"text-white",children:"Early\u2800Leaving"}),(0,v.jsx)("th",{className:"text-white",children:"Effective\u2800Hours"}),(0,v.jsx)("th",{className:"text-white",children:"Total\u2800Hours"})]})}),(0,v.jsx)("tbody",{children:Z.isLoading?(0,v.jsx)("tr",{className:"text-center",children:(0,v.jsx)("td",{colSpan:10,children:"Loading..."})},0):Z.allData.length>0?Z.allData.map(((e,t)=>(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:10*(Z.currentpage-1)+(t+1)}),(0,v.jsx)("td",{children:(0,v.jsx)(h.Z,{text:e.users?e.users.name:"N/A"})}),(0,v.jsx)("td",{children:(0,v.jsx)(j.FU,{date_arg:e.created_at})}),(0,v.jsx)("td",{children:(0,v.jsx)(h.Z,{text:e.timeSlot?e.timeSlot.shift:"N/A"})}),(0,v.jsx)("td",{children:(0,v.jsx)(j.ZP,{time:e.inTime})}),(0,v.jsx)("td",{children:e.outTime?(0,v.jsx)(j.ZP,{time:e.outTime}):"--:--"}),(0,v.jsx)("td",{className:"text-center",children:(0,v.jsx)(p.Z,{late:e.late})}),(0,v.jsx)("td",{className:"text-center",children:(0,v.jsx)(p.j,{checkOut:e.outTime,outTime:e.timeSlot.time_out})}),(0,v.jsx)("td",{children:(0,v.jsx)(g.O,{inTime:e.inTime,outTime:e.outTime,effective:e.effective_hours})}),(0,v.jsx)("td",{children:(0,v.jsx)(g.O,{inTime:e.inTime,outTime:e.outTime,duration:e.duration})})]},t))):(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:10,className:"text-center",children:"No Data Found"})},0)})]}),(0,v.jsx)(i.Z,{children:C})]})})})]}),(0,v.jsxs)(x.Z,{show:P,onHide:()=>{k(!1),t((0,r.qP)())},children:[(0,v.jsx)(x.Z.Header,{closeButton:!0,children:(0,v.jsx)(x.Z.Title,{id:"example-custom-modal-styling-title",children:"Manual Attendace"})}),(0,v.jsx)(x.Z.Body,{children:(0,v.jsxs)(o.Z,{onSubmit:async e=>{e.preventDefault(),await t((0,r.x1)(!0)),navigator.geolocation?await navigator.geolocation.getCurrentPosition((e=>{t((0,r.XY)({jwt:n,users:N.current.value,start:y,end:S,latitude:e.coords.latitude,longitude:e.coords.longitude}))})):E("Geolocation is not supported by your browser"),t((0,r.x1)(!1))},children:[(0,v.jsxs)(o.Z.Group,{className:"mb-3",children:[(0,v.jsx)(o.Z.Label,{children:"Employee"}),(0,v.jsxs)(o.Z.Select,{"aria-label":"Default select example",ref:N,required:!0,className:"form-control",children:[(0,v.jsx)("option",{value:"",children:"Select"}),Z.alluser.length>0?Z.alluser.map(((e,t)=>!e.is_deleted&&(0,v.jsxs)("option",{value:e._id,children:[e.name,"(",e.email,")"]},t))):""]}),(0,v.jsx)("span",{className:"text-danger",children:Z.errors.length>0?Z.errors.map((e=>"users"===e.param?(0,v.jsx)(h.Z,{text:e.msg},"err-1"):"")):""})]}),(0,v.jsxs)(o.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,v.jsxs)(o.Z.Label,{children:["Check In Time ",(0,v.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,v.jsx)(o.Z.Control,{type:"datetime-local",value:y,placeholder:"Name",onChange:e=>{e.preventDefault();const t=e.target.value;console.log("selectedStartDate:",t),t>S&&O(t),w(t)},required:!0}),(0,v.jsx)("span",{className:"text-danger",children:Z.errors.length>0?Z.errors.map((e=>"in_time"===e.param?(0,v.jsx)(h.Z,{text:e.msg},"err-2"):"")):""})]}),(0,v.jsxs)(o.Z.Group,{className:"mb-3",children:[(0,v.jsxs)(o.Z.Label,{children:["Check Out Time ",(0,v.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,v.jsx)(o.Z.Control,{type:"datetime-local",value:S,placeholder:"Name",onChange:e=>{e.preventDefault();const t=e.target.value;console.log("selectedEndDate:",t),t<y&&w(t),O(t)},required:!0}),(0,v.jsx)("span",{className:"text-danger",children:Z.errors.length>0?Z.errors.map((e=>"out_time"===e.param?(0,v.jsx)(h.Z,{text:e.msg},"err-3"):"")):""})]}),Z.isSubmitting?(0,v.jsxs)(l.Z,{variant:"primary",className:"mt-4",children:[(0,v.jsx)(m.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"\u2800Mark Attendace"]}):(0,v.jsx)(l.Z,{type:"submit",variant:"danger",className:"mt-4",children:"Mark Attendace/Update"})]})})]})]})}},2447:(e,t,n)=>{n.d(t,{Z:()=>r,j:()=>s});var a=n(184);function s(e){const{outTime:t,checkOut:n}=e,s=new Date(t),r=parseInt(s.getHours().toString().padStart(2,"0")),i=parseInt(s.getMinutes().toString().padStart(2,"0"));let l;if(n){let e=new Date(n),t=parseInt(e.getHours().toString().padStart(2,"0")),s=parseInt(e.getMinutes().toString().padStart(2,"0"));if(r===t)l=i<=s?(0,a.jsx)("span",{className:"bg-success text-white late-area",children:"On\u2800Time"}):(0,a.jsxs)("span",{className:"bg-danger text-white late-area",children:["00:",(i-s).toString().padStart(2,"0")]});else if(r>t){let e=60*r+i-(60*t+s);l=(0,a.jsxs)("span",{className:"bg-danger text-white late-area",children:[Math.floor(e/60).toString().padStart(2,"0"),":",(e%60).toString().padStart(2,"0")]})}else l=(0,a.jsx)("span",{className:"bg-success text-white late-area",children:"On\u2800Time"})}return l}const r=function(e){return"ONTIME"!==e.late?Number(e.late.slice(3,5))<=15&&Number(e.late.slice(0,2))<1?(0,a.jsx)("span",{className:"bg-warning text-white late-area",children:e.late}):(0,a.jsx)("span",{className:"bg-danger text-white late-area",children:e.late}):(0,a.jsx)("span",{className:"bg-success text-white late-area",children:"On\u2800Time"})}},8746:(e,t,n)=>{n.d(t,{O:()=>r,Z:()=>i});var a=n(2791),s=n(184);function r(e){const[t,n]=(0,a.useState)("00:00");return(0,a.useEffect)((()=>{const t=setInterval((()=>{if(e.outTime)return n(e.duration?e.duration:e.effective);if(e.inTime){let t,a=new Date(e.inTime).getHours(),s=new Date(e.inTime).getMinutes(),r=0,i=(new Date).getHours(),l=60*i+(new Date).getMinutes();i>=a?(r=60*a+s,t=l-r):(r=60-s===0?60*(24-a):60*(24-a-1)+(60-s),t=l+r);let o="".concat(parseInt(t/60).toString().padStart(2,"0"),":").concat("".concat(t%60<=9?Math.round(t%60).toString().padStart(2,"0"):t%60));return n(o)}}),1e3);return()=>{clearInterval(t)}}),[e]),(0,s.jsx)("span",{children:t})}const i=function(){const[e,t]=(0,a.useState)(new Date);return(0,a.useEffect)((()=>{const e=setInterval((()=>t(new Date)),1e3);return()=>{clearInterval(e)}}),[]),(0,s.jsx)("span",{children:e.toLocaleTimeString()})}},551:(e,t,n)=>{n.d(t,{W:()=>x,Z:()=>h});var a=n(2791),s=n(165),r=n(8633),i=n(5666),l=n(184);const o=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],c=["activeKey","getControlledId","getControllerId"],d=["as"];function u(e,t){if(null==e)return{};var n,a,s={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}function x(e){let{active:t,eventKey:n,mountOnEnter:i,transition:l,unmountOnExit:d,role:x="tabpanel",onEnter:m,onEntering:h,onEntered:j,onExit:g,onExiting:p,onExited:v}=e,E=u(e,o);const b=(0,a.useContext)(s.Z);if(!b)return[Object.assign({},E,{role:x}),{eventKey:n,isActive:t,mountOnEnter:i,transition:l,unmountOnExit:d,onEnter:m,onEntering:h,onEntered:j,onExit:g,onExiting:p,onExited:v}];const{activeKey:f,getControlledId:N,getControllerId:Z}=b,y=u(b,c),w=(0,r.h)(n);return[Object.assign({},E,{role:x,id:N(n),"aria-labelledby":Z(n)}),{eventKey:n,isActive:null==t&&null!=w?(0,r.h)(f)===w:t,transition:l||y.transition,mountOnEnter:null!=i?i:y.mountOnEnter,unmountOnExit:null!=d?d:y.unmountOnExit,onEnter:m,onEntering:h,onEntered:j,onExit:g,onExiting:p,onExited:v}]}const m=a.forwardRef(((e,t)=>{let{as:n="div"}=e,a=u(e,d);const[o,{isActive:c,onEnter:m,onEntering:h,onEntered:j,onExit:g,onExiting:p,onExited:v,mountOnEnter:E,unmountOnExit:b,transition:f=i.Z}]=x(a);return(0,l.jsx)(s.Z.Provider,{value:null,children:(0,l.jsx)(r.Z.Provider,{value:null,children:(0,l.jsx)(f,{in:c,onEnter:m,onEntering:h,onEntered:j,onExit:g,onExiting:p,onExited:v,mountOnEnter:E,unmountOnExit:b,children:(0,l.jsx)(n,Object.assign({},o,{ref:t,hidden:!c,"aria-hidden":!c}))})})})}));m.displayName="TabPanel";const h=m},5561:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(2791),s=n(3722),r=n(9181),i=n(165),l=n(8633),o=n(551),c=n(184);const d=e=>{const{id:t,generateChildId:n,onSelect:o,activeKey:d,defaultActiveKey:u,transition:x,mountOnEnter:m,unmountOnExit:h,children:j}=e,[g,p]=(0,s.$c)(d,u,o),v=(0,r.gP)(t),E=(0,a.useMemo)((()=>n||((e,t)=>v?"".concat(v,"-").concat(t,"-").concat(e):null)),[v,n]),b=(0,a.useMemo)((()=>({onSelect:p,activeKey:g,transition:x,mountOnEnter:m||!1,unmountOnExit:h||!1,getControlledId:e=>E(e,"tabpane"),getControllerId:e=>E(e,"tab")})),[p,g,x,m,h,E]);return(0,c.jsx)(i.Z.Provider,{value:b,children:(0,c.jsx)(l.Z.Provider,{value:p||null,children:j})})};d.Panel=o.Z;const u=d},8116:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(1418),s=n.n(a),r=n(2791),i=n(162),l=n(6445),o=n(184);const c=r.forwardRef(((e,t)=>{let{active:n=!1,disabled:a=!1,className:r,style:i,activeLabel:c="(current)",children:d,linkStyle:u,linkClassName:x,as:m=l.Z,...h}=e;const j=n||a?"span":m;return(0,o.jsx)("li",{ref:t,style:i,className:s()(r,"page-item",{active:n,disabled:a}),children:(0,o.jsxs)(j,{className:s()("page-link",x),style:u,...h,children:[d,n&&c&&(0,o.jsx)("span",{className:"visually-hidden",children:c})]})})}));c.displayName="PageItem";const d=c;function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const a=r.forwardRef(((e,a)=>{let{children:s,...r}=e;return(0,o.jsxs)(c,{...r,ref:a,children:[(0,o.jsx)("span",{"aria-hidden":"true",children:s||t}),(0,o.jsx)("span",{className:"visually-hidden",children:n})]})}));return a.displayName=e,a}const x=u("First","\xab"),m=u("Prev","\u2039","Previous"),h=u("Ellipsis","\u2026","More"),j=u("Next","\u203a"),g=u("Last","\xbb"),p=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,size:r,...l}=e;const c=(0,i.vE)(n,"pagination");return(0,o.jsx)("ul",{ref:t,...l,className:s()(a,c,r&&"".concat(c,"-").concat(r))})}));p.displayName="Pagination";const v=Object.assign(p,{First:x,Prev:m,Ellipsis:h,Item:d,Next:j,Last:g})},1734:(e,t,n)=>{n.d(t,{Z:()=>h});var a=n(2007),s=n.n(a),r=(n(2791),n(5561)),i=n(3507),l=n(184);const o=e=>{let{transition:t,...n}=e;return(0,l.jsx)(r.Z,{...n,transition:(0,i.Z)(t)})};o.displayName="TabContainer";const c=o;var d=n(4886),u=n(4504);const x={eventKey:s().oneOfType([s().string,s().number]),title:s().node.isRequired,disabled:s().bool,tabClassName:s().string,tabAttrs:s().object},m=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};m.propTypes=x;const h=Object.assign(m,{Container:c,Content:d.Z,Pane:u.Z})},4886:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(2791),s=n(1418),r=n.n(s),i=n(162),l=n(184);const o=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="div",...o}=e;return a=(0,i.vE)(a,"tab-content"),(0,l.jsx)(s,{ref:t,className:r()(n,a),...o})}));o.displayName="TabContent";const c=o},4504:(e,t,n)=>{n.d(t,{Z:()=>h});var a=n(1418),s=n.n(a),r=n(2791),i=n(8633),l=n(165),o=n(551),c=n(162),d=n(2709),u=n(3507),x=n(184);const m=r.forwardRef(((e,t)=>{let{bsPrefix:n,transition:a,...r}=e;const[{className:m,as:h="div",...j},{isActive:g,onEnter:p,onEntering:v,onEntered:E,onExit:b,onExiting:f,onExited:N,mountOnEnter:Z,unmountOnExit:y,transition:w=d.Z}]=(0,o.W)({...r,transition:(0,u.Z)(a)}),S=(0,c.vE)(n,"tab-pane");return(0,x.jsx)(l.Z.Provider,{value:null,children:(0,x.jsx)(i.Z.Provider,{value:null,children:(0,x.jsx)(w,{in:g,onEnter:p,onEntering:v,onEntered:E,onExit:b,onExiting:f,onExited:N,mountOnEnter:Z,unmountOnExit:y,children:(0,x.jsx)(h,{...j,ref:t,className:s()(m,S,g&&"active")})})})})}));m.displayName="TabPane";const h=m},9485:(e,t,n)=>{n.d(t,{Z:()=>g});n(2791);var a=n(239),s=n(5561),r=n(6387),i=n(9102),l=n(881),o=n(4886),c=n(4504),d=n(1701),u=n(3507),x=n(184);function m(e){let t;return(0,d.Ed)(e,(e=>{null==t&&(t=e.props.eventKey)})),t}function h(e){const{title:t,eventKey:n,disabled:a,tabClassName:s,tabAttrs:r,id:o}=e.props;return null==t?null:(0,x.jsx)(l.Z,{as:"li",role:"presentation",children:(0,x.jsx)(i.Z,{as:"button",type:"button",eventKey:n,disabled:a,id:o,className:s,...r,children:t})})}const j=e=>{const{id:t,onSelect:n,transition:i,mountOnEnter:l=!1,unmountOnExit:j=!1,variant:g="tabs",children:p,activeKey:v=m(p),...E}=(0,a.Ch)(e,{activeKey:"onSelect"});return(0,x.jsxs)(s.Z,{id:t,activeKey:v,onSelect:n,transition:(0,u.Z)(i),mountOnEnter:l,unmountOnExit:j,children:[(0,x.jsx)(r.Z,{...E,role:"tablist",as:"ul",variant:g,children:(0,d.UI)(p,h)}),(0,x.jsx)(o.Z,{children:(0,d.UI)(p,(e=>{const t={...e.props};return delete t.title,delete t.disabled,delete t.tabClassName,delete t.tabAttrs,(0,x.jsx)(c.Z,{...t})}))})]})};j.displayName="Tabs";const g=j},3507:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(5666),s=n(2709);function r(e){return"boolean"===typeof e?e?s.Z:a.Z:e}},594:()=>{}}]);
//# sourceMappingURL=855.5bff21ca.chunk.js.map