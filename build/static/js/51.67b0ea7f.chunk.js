"use strict";(self.webpackChunkhrm=self.webpackChunkhrm||[]).push([[51],{7051:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var r=s(2791),a=s(9434),l=s(5533),n=(s(4722),s(4688)),i=s(3360),c=s(4849),d=s(2591),m=s(5316),h=s(4608),x=s(5086),o=s(184);const u=function(e){const t=(0,a.I0)(),s=e.jwt,u=(0,r.useRef)(),j=(0,r.useRef)(),p=(0,r.useRef)(),g=(0,r.useRef)(),f=(0,r.useRef)(),N=(0,r.useRef)(),Z=(0,r.useRef)(),v=(0,r.useRef)(),[w,b]=(0,r.useState)(!1);(0,r.useEffect)((()=>{t((0,l.go)({jwt:s}))}),[t,s]);const S=(0,a.v9)((e=>e.timeSlot));return(0,r.useEffect)((()=>{S.isError||(b(!1),u.current.value="",p.current.value=null,g.current.value=null,j.current.value=null)}),[S.isError]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"page-section p-4",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-xl-4 col-lg-5 col-md-12 col-12",children:(0,o.jsxs)("div",{className:"add-departmen chart",children:[(0,o.jsx)("h4",{className:"mb-4",children:"Add New Office Shift"}),(0,o.jsxs)(n.Z,{onSubmit:e=>{e.preventDefault();let r=new Date,a=p.current.value.split(":");r.setHours(parseInt(a[0])),r.setMinutes(parseInt(a[1])),r.setSeconds(0);let n=new Date,i=g.current.value.split(":");n.setHours(parseInt(i[0])),n.setMinutes(parseInt(i[1])),n.setSeconds(0),t((0,l.xK)({jwt:s,shift:u.current.value,startTime:r,endTime:n,lunchTime:j.current.value}))},children:[(0,o.jsxs)(n.Z.Group,{className:"my-3",children:[(0,o.jsxs)(n.Z.Label,{children:["Shift ",(0,o.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,o.jsx)(n.Z.Control,{type:"text","aria-label":"Default select example",placeholder:"Shift Name",ref:u,required:!0}),(0,o.jsx)("span",{className:"text-danger",children:S.errors.length>0?S.errors.map((e=>"shift"===e.param?(0,o.jsx)(h.Z,{text:e.msg},"err-1"):"")):""})]}),(0,o.jsxs)(n.Z.Group,{className:"my-3",controlId:"exampleForm.ControlInput1",children:[(0,o.jsxs)(n.Z.Label,{children:["Office Time ",(0,o.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,o.jsx)(n.Z.Control,{type:"time",ref:p,placeholder:"Title",required:!0}),(0,o.jsx)("span",{className:"text-danger",children:S.errors.length>0?S.errors.map((e=>"time_in"===e.param?(0,o.jsx)(h.Z,{text:e.msg},"err-2"):"")):""}),(0,o.jsx)("p",{className:"pt-2",children:"To"}),(0,o.jsx)(n.Z.Control,{type:"time",ref:g,placeholder:"Name",required:!0}),(0,o.jsx)("span",{className:"text-danger",children:S.errors.length>0?S.errors.map((e=>"time_out"===e.param?(0,o.jsx)(h.Z,{text:e.msg},"err-3"):"")):""})]}),(0,o.jsxs)(n.Z.Group,{className:"my-3",controlId:"exampleForm.ControlInput1",children:[(0,o.jsxs)(n.Z.Label,{children:["Lunch Duration(HH:MM) ",(0,o.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,o.jsx)(n.Z.Control,{type:"time",ref:j,placeholder:"enter time",required:!0}),(0,o.jsx)("span",{className:"text-danger",children:S.errors.length>0?S.errors.map((e=>"lunch_time"===e.param?(0,o.jsx)(h.Z,{text:e.msg},"err-4"):"")):""})]}),S.isSubmitting?(0,o.jsxs)(i.Z,{variant:"primary",className:"mt-4",children:[(0,o.jsx)(c.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"\u2800Save"]}):(0,o.jsx)(i.Z,{type:"submit",variant:"danger",className:"mt-4",children:"Save"})]})]})}),(0,o.jsx)("div",{className:"col-xl-8 col-lg-7 col-md-12 col-12",children:(0,o.jsxs)("div",{className:"add-departmen chart",children:[(0,o.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,o.jsx)("h4",{className:"mb-0",children:"List All Office Shift"})}),(0,o.jsx)("div",{className:"responsive mt-4",children:(0,o.jsxs)(d.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"text-white",children:"S.No."}),(0,o.jsx)("th",{className:"text-white",children:"Shift"}),(0,o.jsx)("th",{className:"text-white",children:"Office\u2800Timing"}),(0,o.jsx)("th",{className:"text-white",children:"Lunch\u2800Time"}),(0,o.jsx)("th",{className:"text-white",children:"Created\u2800At"}),(0,o.jsx)("th",{className:"text-white",children:"Status"}),(0,o.jsx)("th",{className:"text-white",children:"Action"})]})}),(0,o.jsx)("tbody",{children:S.isLoading?(0,o.jsx)("tr",{className:"text-center",children:(0,o.jsx)("td",{colSpan:7,children:"Loading..."})},0):S.allData.length>0?S.allData.map(((e,r)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:r+1}),(0,o.jsx)("td",{children:(0,o.jsx)(h.Z,{text:e.shift})}),(0,o.jsxs)("td",{children:[(0,o.jsx)(x.ZP,{time:e.time_in}),"\u2800-\u2800",(0,o.jsx)(x.ZP,{time:e.time_out})]}),(0,o.jsx)("td",{children:e.lunch_time}),(0,o.jsx)("td",{children:(0,o.jsx)(x.FU,{date_arg:e.created_at})}),(0,o.jsx)("td",{children:(0,o.jsx)("p",{className:e.active?"text-success":"text-danger",children:e.active?"Active":"Block"})}),(0,o.jsxs)("td",{className:"d-flex align-items-center",children:[(0,o.jsx)(i.Z,{onClick:()=>{var s;s=e._id,b(!0),t((0,l.Hd)(s))},className:"btn btn-warning text-white",children:"Edit"}),!e.is_deleted&&(0,o.jsx)(i.Z,{onClick:()=>t((0,l.Nf)({jwt:s,id:e._id,active:!e.active,index:r})),className:e.active?"btn btn-danger text-white ms-2":"btn btn-primary text-white ms-2",variant:e.active?"danger":"primary",children:e.active?"Block":"Active"})]})]},r))):(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:8,className:"text-center",children:"No Data Found"})},0)})]})})]})})]})}),(0,o.jsxs)(m.Z,{show:w,onHide:()=>{b(!1)},children:[(0,o.jsx)(m.Z.Header,{closeButton:!0,children:(0,o.jsx)(m.Z.Title,{children:"Update Office Timeing "})}),(0,o.jsx)(m.Z.Body,{children:(0,o.jsxs)(n.Z,{onSubmit:e=>{e.preventDefault();let r=new Date,a=Z.current.value.split(":");r.setHours(parseInt(a[0])),r.setMinutes(parseInt(a[1])),r.setSeconds(0);let n=new Date,i=f.current.value.split(":");n.setHours(parseInt(i[0])),n.setMinutes(parseInt(i[1])),n.setSeconds(0),console.log(r,n),t((0,l.Vs)({jwt:s,id:S.singledata[0]._id,shift:N.current.value,startTime:r,endTime:n,lunchTime:v.current.value}))},children:[(0,o.jsxs)(n.Z.Group,{className:"my-3",children:[(0,o.jsxs)(n.Z.Label,{children:["Shift ",(0,o.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,o.jsx)(n.Z.Control,{type:"text","aria-label":"Default select example",placeholder:"Shift Name",ref:N,defaultValue:S.singledata.length>0?S.singledata[0].shift:"",required:!0}),(0,o.jsx)("span",{className:"text-danger",children:S.editErrors.length>0?S.editErrors.map((e=>"shift"===e.param?(0,o.jsx)(h.Z,{text:e.msg},"editerr-1"):"")):""})]}),(0,o.jsxs)(n.Z.Group,{className:"my-3",controlId:"exampleForm.ControlInput1",children:[(0,o.jsxs)(n.Z.Label,{children:["Office Time ",(0,o.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,o.jsx)(n.Z.Control,{type:"time",ref:Z,defaultValue:S.singledata.length>0?(0,x.ZP)({time:S.singledata[0].time_in}):"",placeholder:"Name",required:!0}),(0,o.jsx)("span",{className:"text-danger",children:S.editErrors.length>0?S.editErrors.map((e=>"time_in"===e.param?(0,o.jsx)(h.Z,{text:e.msg},"editerr-2"):"")):""}),(0,o.jsx)("p",{className:"pt-2",children:"To"}),(0,o.jsx)(n.Z.Control,{type:"time",ref:f,defaultValue:S.singledata.length>0?(0,x.ZP)({time:S.singledata[0].time_out}):"",placeholder:"Name",required:!0}),(0,o.jsx)("span",{className:"text-danger",children:S.editErrors.length>0?S.editErrors.map((e=>"time_out"===e.param?(0,o.jsx)(h.Z,{text:e.msg},"editerr-3"):"")):""})]}),(0,o.jsxs)(n.Z.Group,{className:"my-3",controlId:"exampleForm.ControlInput1",children:[(0,o.jsxs)(n.Z.Label,{children:["Lunch Time ",(0,o.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,o.jsx)(n.Z.Control,{type:"time",defaultValue:S.singledata.length>0?S.singledata[0].lunch_time:"",ref:v,placeholder:"enter time",required:!0}),(0,o.jsx)("span",{className:"text-danger",children:S.editErrors.length>0?S.editErrors.map((e=>"lunch_time"===e.param?(0,o.jsx)(h.Z,{text:e.msg},"editerr-4"):"")):""})]}),S.isEditSubmitting?(0,o.jsxs)(i.Z,{variant:"danger",className:"mt-4",children:[(0,o.jsx)(c.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"\u2800Update"]}):(0,o.jsx)(i.Z,{type:"submit",variant:"danger",className:"mt-4",children:"Update"})]})})]})]})}}}]);
//# sourceMappingURL=51.67b0ea7f.chunk.js.map