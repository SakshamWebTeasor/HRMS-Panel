"use strict";(self.webpackChunkhrm=self.webpackChunkhrm||[]).push([[196],{8196:function(e,r,t){t.r(r),t.d(r,{default:function(){return N}});var s=t(9439),a=t(2791),n=t(9434),l=t(7016),i=t(4578),c=t(3360),d=t(9410),o=t(2591),x=t(5316),m=t(8116),u=t(4849),h=t(4373),j=t(763),p=t(4608),g=t(1462),f=t(184);var N=function(e){var r=(0,n.I0)(),t=e.jwt,N=(0,a.useRef)(),Z=(0,a.useRef)(),v=(0,a.useRef)(),b=(0,a.useRef)(),w=(0,a.useRef)(),y=(0,a.useRef)(),C=(0,a.useRef)(),D=(0,a.useRef)(),S=(0,a.useRef)(),_=(0,a.useState)(!1),E=(0,s.Z)(_,2),k=E[0],F=E[1],R=(0,a.useState)(!1),I=(0,s.Z)(R,2),L=I[0],q=I[1],H=(0,a.useState)(),T=(0,s.Z)(H,2),G=T[0],K=T[1],V=(0,n.v9)((function(e){return e.holiday}));(0,a.useEffect)((function(){r((0,l.go)({jwt:t}))}),[r,t]),(0,a.useEffect)((function(){V.isError||(q(!1),r((0,l.e2)()),N.current.value=null,v.current.value=null,w.current.value=null,y.current.value=null)}),[V.isError,r]);for(var B=(0,j.debounce)((function(){var e=S.current.value;0===e.length&&r((0,l.go)({jwt:t})),e.length>=3&&r((0,l.ic)({jwt:t,searchKey:e}))}),500),A=function(){F(!1)},z=[],U=function(e){z.push((0,f.jsx)(m.Z.Item,{active:e===Number(V.currentpage),onClick:function(){return function(e){V.isSerch?r((0,l.ic)({jwt:t,pageno:e,searchKey:S.current.value})):r((0,l.go)({jwt:t,pageno:e,param:V.sorting_on.field,x:V.sorting_on.sort}))}(e)},children:e},e))},J=1;J<=V.totalpages;J++)U(J);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"page-section p-4",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsx)("div",{className:"col-xl-4 col-lg-5 col-md-12 col-12",children:(0,f.jsxs)("div",{className:"add-departmen chart",children:[(0,f.jsx)("h4",{className:"mb-4",children:"Add New Holiday"}),(0,f.jsxs)(i.Z,{onSubmit:function(e){e.preventDefault(),r((0,l.xK)({jwt:t,name:N.current.value,description:v.current.value,start:w.current.value,end:y.current.value,total:V.allData.length}))},children:[(0,f.jsxs)(i.Z.Group,{className:"my-3",controlId:"exampleForm.ControlInput1",children:[(0,f.jsxs)(i.Z.Label,{children:["Title ",(0,f.jsx)("span",{className:"text-danger",children:"*"})]}),(0,f.jsx)(i.Z.Control,{type:"text",ref:N,placeholder:"Name",required:!0}),(0,f.jsx)("span",{className:"text-danger",children:V.errors.length>0?V.errors.map((function(e){return"name"===e.param?(0,f.jsx)(p.Z,{text:e.msg},"err-1"):""})):""})]}),(0,f.jsxs)(i.Z.Group,{className:"mb-0",controlId:"exampleForm.ControlTextarea1",children:[(0,f.jsxs)(i.Z.Label,{children:["Description ",(0,f.jsx)("span",{className:"text-danger",children:"*"})]}),(0,f.jsx)(i.Z.Control,{as:"textarea",ref:v,rows:3,placeholder:"Description",required:!0}),(0,f.jsx)("span",{className:"text-danger",children:V.errors.length>0?V.errors.map((function(e){return"description"===e.param?(0,f.jsx)(p.Z,{text:e.msg},"err-2"):""})):""})]}),(0,f.jsxs)(i.Z.Group,{controlId:"formFile",className:"mt-3",children:[(0,f.jsxs)(i.Z.Label,{children:["Date ",(0,f.jsx)("span",{className:"text-danger",children:"*"})]}),(0,f.jsx)(i.Z.Control,{ref:w,type:"date",min:"2022-01-01",max:"3000-01-01",required:!0}),(0,f.jsx)("span",{className:"text-danger",children:V.errors.length>0?V.errors.map((function(e){return"start_date"===e.param?(0,f.jsx)(p.Z,{text:e.msg},"err-3"):""})):""}),(0,f.jsx)("p",{className:"pt-2",children:"To"}),(0,f.jsx)(i.Z.Control,{ref:y,type:"date",min:"2022-01-01",max:"3000-01-01",required:!0}),(0,f.jsx)("span",{className:"text-danger",children:V.errors.length>0?V.errors.map((function(e){return"end_date"===e.param?(0,f.jsx)(p.Z,{text:e.msg},"err-4"):""})):""})]}),V.isSubmitting?(0,f.jsxs)(c.Z,{variant:"primary",className:"mt-4",children:[(0,f.jsx)(u.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"\u2800Save"]}):(0,f.jsx)(c.Z,{type:"submit",variant:"danger",className:"mt-4",children:"Save"})]})]})}),(0,f.jsx)("div",{className:"col-xl-8 col-lg-7 col-md-12 col-12",children:(0,f.jsxs)("div",{className:"add-departmen chart",children:[(0,f.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,f.jsx)("h4",{className:"mb-0",children:"List All Holidays"})}),(0,f.jsxs)("div",{className:"row align-items-center justify-content-between mt-4",children:[(0,f.jsx)("div",{className:"col-lg-3 col-12"}),(0,f.jsx)("div",{className:"col-lg-3 col-12",children:(0,f.jsx)(d.Z,{className:"me-3 my-lg-0 my-3",children:(0,f.jsx)(i.Z.Control,{placeholder:"Search....",onChange:B,ref:S,"aria-label":"Recipient's username","aria-describedby":"basic-addon2"})})})]}),(0,f.jsx)("div",{className:"responsive mt-4",children:(0,f.jsxs)(o.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"text-white",children:"S.No."}),(0,f.jsxs)("th",{className:"text-white",onClick:function(){return e="name",void r((0,l.go)({jwt:t,param:e,x:!V.sorting_on.sort}));var e},children:["Name","name"===V.sorting_on.field?V.sorting_on.sort?(0,f.jsx)("span",{className:"text-white",children:(0,f.jsx)(h.KKI,{})}):(0,f.jsx)("span",{style:{color:"#fff",position:"relative",right:"0"},children:(0,f.jsx)(h.mLR,{})}):(0,f.jsx)(f.Fragment,{})]}),(0,f.jsx)("th",{className:"text-white",children:"Description"}),(0,f.jsx)("th",{className:"text-white",children:"Date"}),(0,f.jsx)("th",{className:"text-white",children:"Action"})]})}),(0,f.jsx)("tbody",{children:V.isLoading?(0,f.jsx)("tr",{className:"text-center",children:(0,f.jsx)("td",{colSpan:8,children:"Loading..."})},0):V.allData.length>0?V.allData.map((function(e,t){return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:10*(V.currentpage-1)+(t+1)}),(0,f.jsx)("td",{children:(0,f.jsx)(p.Z,{text:e.name})}),(0,f.jsx)("td",{children:(0,f.jsx)(g.Z,{text:e.description,limit:40})}),(0,f.jsxs)("td",{children:[e.start_date.slice(0,10)," To"," ",e.end_date.slice(0,10)]}),(0,f.jsxs)("td",{className:"d-lg-block d-flex align-items-center",children:[(0,f.jsx)(c.Z,{onClick:function(){var t;t=e._id,q(!0),r((0,l.Hd)(t))},className:"ms-2 btn btn-warning text-white",children:"Edit"}),(0,f.jsx)(c.Z,{variant:"danger",className:"ms-2",onClick:function(){!function(e){F(!0),K(e)}(e._id)},children:"Delete"})]})]},t)})):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:8,className:"text-center",children:"No Data Found"})},0)})]})}),(0,f.jsx)(m.Z,{children:z})]})})]})}),(0,f.jsxs)(x.Z,{show:k,onHide:A,children:[(0,f.jsx)(x.Z.Header,{closeButton:!0,children:(0,f.jsx)(x.Z.Title,{children:"Delete"})}),(0,f.jsx)(x.Z.Body,{children:"Do you really want to delete?"}),(0,f.jsxs)(x.Z.Footer,{children:[(0,f.jsx)(c.Z,{variant:"danger",onClick:function(){A(),r((0,l.JS)({jwt:t,id:G,pageno:1===V.allData.length&&V.currentpage>1?Number(V.currentpage)-1:V.currentpage}))},children:"Yes"}),(0,f.jsx)(c.Z,{variant:"primary",onClick:A,children:"No"})]})]}),(0,f.jsxs)(x.Z,{show:L,onHide:function(){q(!1)},children:[(0,f.jsx)(x.Z.Header,{closeButton:!0,children:(0,f.jsx)(x.Z.Title,{children:"Edit Holiday"})}),(0,f.jsx)(x.Z.Body,{children:(0,f.jsxs)(i.Z,{onSubmit:function(e){e.preventDefault(),r((0,l.Vs)({jwt:t,id:V.singledata[0]._id,name:Z.current.value,description:b.current.value,start:C.current.value,end:D.current.value}))},children:[(0,f.jsxs)(i.Z.Group,{className:"my-3",controlId:"exampleForm.ControlInput1",children:[(0,f.jsxs)(i.Z.Label,{children:["Name ",(0,f.jsx)("span",{className:"text-danger",children:"*"})]}),(0,f.jsx)(i.Z.Control,{type:"text",ref:Z,defaultValue:V.singledata.length>0?V.singledata[0].name:"",placeholder:"Name",required:!0}),(0,f.jsx)("span",{className:"text-danger",children:V.editErrors.length>0?V.editErrors.map((function(e){return"name"===e.param?(0,f.jsx)(p.Z,{text:e.msg},"editerr-1"):""})):""})]}),(0,f.jsxs)(i.Z.Group,{className:"mb-0",controlId:"exampleForm.ControlTextarea1",children:[(0,f.jsxs)(i.Z.Label,{children:["Description ",(0,f.jsx)("span",{className:"text-danger",children:"*"})]}),(0,f.jsx)(i.Z.Control,{as:"textarea",ref:b,defaultValue:V.singledata.length>0?V.singledata[0].description:"",rows:3,placeholder:"Description",required:!0}),(0,f.jsx)("span",{className:"text-danger",children:V.editErrors.length>0?V.editErrors.map((function(e){return"description"===e.param?(0,f.jsx)(p.Z,{text:e.msg},"editerr-2"):""})):""})]}),(0,f.jsx)("div",{className:"d-block align-items-center justify-content-between",children:(0,f.jsxs)(i.Z.Group,{controlId:"formFile",className:"mt-3",children:[(0,f.jsxs)(i.Z.Label,{children:["Date ",(0,f.jsx)("span",{className:"text-danger",children:"*"})]}),(0,f.jsx)(i.Z.Control,{ref:C,defaultValue:V.singledata.length>0?V.singledata[0].start_date.slice(0,10):"",type:"date",min:"2022-01-01",max:"3000-01-01",required:!0}),(0,f.jsx)("span",{className:"text-danger",children:V.editErrors.length>0?V.editErrors.map((function(e){return"start_date"===e.param?(0,f.jsx)(p.Z,{text:e.msg},"editerr-3"):""})):""}),(0,f.jsx)("p",{className:"pt-2",children:"To"}),(0,f.jsx)(i.Z.Control,{ref:D,defaultValue:V.singledata.length>0?V.singledata[0].end_date.slice(0,10):"",type:"date",min:"2022-01-01",max:"3000-01-01",required:!0}),(0,f.jsx)("span",{className:"text-danger",children:V.editErrors.length>0?V.editErrors.map((function(e){return"end_date"===e.param?(0,f.jsx)(p.Z,{text:e.msg},"editerr-4"):""})):""})]})}),V.isEditSubmit?(0,f.jsxs)(c.Z,{variant:"primary",className:"mt-4",children:[(0,f.jsx)(u.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"\u2800Update"]}):(0,f.jsx)(c.Z,{type:"submit",variant:"danger",className:"mt-4",children:"Update"})]})})]})]})}},1462:function(e,r,t){var s=t(9439),a=t(2791),n=t(184);r.Z=function(e){var r=e.text,t=e.limit,l=(0,a.useState)(!1),i=(0,s.Z)(l,2),c=i[0],d=i[1];return(0,n.jsx)(n.Fragment,{children:r?(0,n.jsxs)(n.Fragment,{children:[c?r:r.substr(0,e.limit),r.length>t&&(0,n.jsx)("button",{onClick:function(){return d(!c)},children:c?"...Read Less":"...Read More"})]}):(0,n.jsx)(n.Fragment,{})})}}}]);
//# sourceMappingURL=196.6956c168.chunk.js.map