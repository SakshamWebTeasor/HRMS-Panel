"use strict";(self.webpackChunkhrm=self.webpackChunkhrm||[]).push([[173],{6173:(e,s,a)=>{a.r(s),a.d(s,{default:()=>j});var t=a(2791),l=a(9434),c=a(7643),i=(a(9468),a(7692)),r=a(8014),d=a(8478),n=a(3496),o=a(7770),m=a(4608),x=a(1087),h=a(184);const j=function(e){const s=(0,l.I0)(),a=e.socket,j=e.jwt,u=(0,l.v9)((e=>e.dashboard));(0,t.useEffect)((()=>{s((0,c.g)({jwt:j}))}),[s,j]),(0,t.useEffect)((()=>{a.emit("setuser",{email:e.current_user.email,department:e.current_user.designation.department}),a.emit("check_notice_admin"),a.on("recive_notice_admin",(s=>{s.total_leave&&(e.setLeave_new_notice(!0),e.setTotalLeave(s.total_leave))}))}),[e,a]);const p={options:{chart:{id:"basic-bar"},xaxis:{type:"category",categories:[],labels:{formatter:function(e){return e}}}},series:[{name:"Employee Count",data:[]}]},v={options:{chart:{id:"basic-bar"},xaxis:{categories:[]}},series:[{data:[]}]},N={options:{labels:[]},series:[]};return u.departmentWiseStaff.map((e=>(N.series.push(e.no_of_users),N.options.labels.push(e.name+"("+e.user_head+") : "+e.no_of_users)))),u.attendance_chart.map((e=>(p.series[0].data.push(e.value),p.options.xaxis.categories.push(e.date.slice(0,10))))),u.salary_chart.map((e=>(v.series[0].data.push(e.value),v.options.xaxis.categories.push(e.date)))),u.isLoading?(0,h.jsx)(o.Z,{}):(0,h.jsxs)("div",{className:"page-section p-4",children:[(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)("div",{className:"d-flex",children:[(0,h.jsx)("img",{src:e.current_user.image_link?e.current_user.image_link:d,alt:"User",className:"img-fluid rounded-circle",style:{width:"50px",height:"50px"}}),(0,h.jsxs)("div",{className:"ms-2",children:[(0,h.jsx)("h4",{className:"mb-0 rd",children:(0,h.jsx)(m.Z,{text:e.current_user.name})}),(0,h.jsx)("p",{className:"text-muted mb-0",children:e.current_user.email})]})]})})}),(0,h.jsxs)("div",{className:"row mt-4",children:[(0,h.jsx)("div",{className:"col-xl-3 col-lg-4 col-md-6 col-12",children:(0,h.jsx)("div",{className:"box-dashboard",children:(0,h.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,h.jsxs)("div",{className:"box-dash",children:[(0,h.jsx)(x.rU,{to:"/employees",children:(0,h.jsx)("h5",{className:"text-muted mb-4",children:" Total Employees "})}),(0,h.jsx)("h3",{className:"text-muted mb-0",children:u.total_employee})]}),(0,h.jsx)("div",{className:"text-danger",children:(0,h.jsx)(r.Z_K,{})})]})})}),(0,h.jsx)("div",{className:"col-xl-3 col-lg-4 col-md-6 col-12",children:(0,h.jsx)("div",{className:"box-dashboard",children:(0,h.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,h.jsxs)("div",{className:"box-dash",children:[(0,h.jsx)(x.rU,{to:"/absent_present",state:{active:!0},children:(0,h.jsx)("h5",{className:"text-muted mb-4",children:"Present Employees"})}),(0,h.jsx)("h3",{className:"text-muted mb-0",children:u.today_active_employee})]}),(0,h.jsx)("div",{className:"text-danger",children:(0,h.jsx)(i.Gzv,{})})]})})}),(0,h.jsx)("div",{className:"col-xl-3 col-lg-4 col-md-6 col-12",children:(0,h.jsx)("div",{className:"box-dashboard",children:(0,h.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,h.jsxs)("div",{className:"box-dash",children:[(0,h.jsx)(x.rU,{to:"/absent_present",state:{active:!1},children:(0,h.jsx)("h5",{className:"text-muted mb-4",children:"Absent Employees "})}),(0,h.jsx)("h3",{className:"text-muted mb-0",children:u.today_absent})]}),(0,h.jsx)("div",{className:"text-danger",children:(0,h.jsx)(r.Z_K,{})})]})})}),(0,h.jsx)("div",{className:"col-xl-3 col-lg-4 col-md-6 col-12",children:(0,h.jsx)("div",{className:"box-dashboard",children:(0,h.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,h.jsxs)("div",{className:"box-dash",children:[(0,h.jsxs)("h5",{className:"text-muted mb-4",children:[" ","Salary Amount ",(0,h.jsx)("small",{children:"(Previous Month)"})]}),(0,h.jsxs)("h3",{className:"text-muted mb-0",children:[" ",u.previous_month_salary_amount," "]})]}),(0,h.jsx)("div",{className:"text-danger",children:(0,h.jsx)(i.Gzv,{})})]})})})]}),(0,h.jsxs)("div",{className:"row mt-0",children:[(0,h.jsx)("div",{className:"col-xl-6 col-lg-6 col-12",children:(0,h.jsxs)("div",{className:"chart mt-4",children:[(0,h.jsx)("h4",{children:"Attendance Chart"}),(0,h.jsx)(n.Z,{options:p.options,series:p.series,type:"bar",width:"100%"})]})}),(0,h.jsx)("div",{className:"col-xl-6 col-lg-6 col-12",children:(0,h.jsxs)("div",{className:"chart mt-4",children:[(0,h.jsx)("h4",{children:"Payroll monthly report"}),(0,h.jsx)(n.Z,{options:v.options,series:v.series,type:"line",width:"100%"})]})}),(0,h.jsx)("div",{className:"col-xl-6 col-lg-6 col-12",children:(0,h.jsxs)("div",{className:"chart mt-4",children:[(0,h.jsx)("h4",{children:"Department wise staff"}),(0,h.jsx)(n.Z,{options:N.options,series:N.series,type:"pie",width:"100%"})]})})]})]})}},9468:()=>{}}]);
//# sourceMappingURL=173.3ee818f4.chunk.js.map