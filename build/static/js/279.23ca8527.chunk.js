"use strict";(self.webpackChunkhrm=self.webpackChunkhrm||[]).push([[279],{9279:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var s=a(2791),n=a(9434),c=a(8447),l=a(3360),r=a(2591),i=a(8116),d=a(9513),h=a.n(d),x=(a(8639),a(4608)),o=a(5086),j=a(2447),m=a(184);const g=function(e){const t=(0,n.I0)(),a=e.jwt,[d,g]=(0,s.useState)(new Date),u=(0,n.v9)((e=>e.userAttendance));(0,s.useEffect)((()=>{t((0,c.g)({jwt:a,month:"".concat(d.getFullYear(),"-").concat(d.getMonth()+1)}))}),[t,a,d]);let p=[];for(let s=1;s<=u.totalpages;s++)p.push((0,m.jsx)(i.Z.Item,{active:s===u.currentpage,onClick:()=>N(s),children:s},s));const N=e=>{t((0,c.g)({jwt:a,pageno:e}))};return(0,m.jsx)("div",{className:"page-section p-4",children:(0,m.jsxs)("div",{className:"employees chart",children:[(0,m.jsx)("h4",{className:"mb-0",children:"Monthly Attendace Report"}),(0,m.jsx)("div",{className:"row align-items-center justify-content-between my-4",children:(0,m.jsx)("div",{className:"col-lg-3 col-12",children:(0,m.jsxs)("div",{className:"d-flex align-items-center",children:[(0,m.jsx)(h(),{selected:d,onChange:e=>(e=>{g(e);const s=new Date(e);let n=s.getMonth()+1,l=s.getFullYear();if(1970===l)return t((0,c.g)({jwt:a}));t((0,c.g)({jwt:a,month:"".concat(l,"-").concat(n)}))})(e),dateFormat:"MM/yyyy",showMonthYearPicker:!0,placeholderText:"All Days"}),(0,m.jsx)(l.Z,{onClick:()=>{t((0,c.g)({jwt:a})),g()},children:"Reset"})]})})}),(0,m.jsx)("div",{className:"responsive mt-4",children:(0,m.jsxs)(r.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:"text-white",children:"S.No."}),(0,m.jsx)("th",{className:"text-white",children:"Date"}),(0,m.jsx)("th",{className:"text-white",children:"Shift"}),(0,m.jsx)("th",{className:"text-white",children:"Check\u2800IN"}),(0,m.jsx)("th",{className:"text-white",children:"Check\u2800OUT"}),(0,m.jsx)("th",{className:"text-white",children:"Late"}),(0,m.jsx)("th",{className:"text-white",children:"Early Leaving"}),(0,m.jsx)("th",{className:"text-white",children:"Effective\u2800Work"}),(0,m.jsx)("th",{className:"text-white",children:"Total\u2800Work"})]},"heading")}),(0,m.jsx)("tbody",{children:u.isLoading?(0,m.jsx)("tr",{className:"text-center",children:(0,m.jsx)("td",{colSpan:8,children:"Loading..."})},"o-loading"):u.allData.length>0?u.allData.map(((e,t)=>(0,m.jsxs)(m.Fragment,{children:["present"===e.status&&(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:t+1}),(0,m.jsx)("td",{children:(0,m.jsx)(o.FU,{date_arg:e.created_at})}),(0,m.jsx)("td",{children:(0,m.jsx)(x.Z,{text:e.timeSlot?e.timeSlot.shift:"N/A"})}),(0,m.jsx)("td",{children:(0,m.jsx)(o.ZP,{time:e.inTime})}),(0,m.jsx)("td",{children:e.outTime?(0,m.jsx)(o.ZP,{time:e.outTime}):"--:--"}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)(j.Z,{late:e.late})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)(j.j,{checkOut:e.outTime,outTime:e.timeSlot.time_out})}),(0,m.jsx)("td",{children:e.effective_hours?"".concat(e.effective_hours):"--:--"}),(0,m.jsx)("td",{children:e.duration?"".concat(e.duration):"--:--"})]},"present-".concat(t)),"present"!==e.status&&(0,m.jsxs)("tr",{className:"absent"===e.status?"table-danger":"leave"===e.status?"table-info":"table-warning",children:[(0,m.jsx)("td",{children:t+1}),(0,m.jsx)("td",{children:(0,m.jsx)(o.FU,{date_arg:e.created_at})}),(0,m.jsx)("td",{colSpan:7,className:"text-center",children:(0,m.jsx)(x.Z,{text:e.status})})]},"absent-".concat(t))]}))):(0,m.jsx)("tr",{children:(0,m.jsx)("td",{colSpan:8,className:"text-center",children:"No Data Found"})},"0-nodata")})]})}),(0,m.jsx)(i.Z,{children:p})]})})}},2447:(e,t,a)=>{a.d(t,{Z:()=>c,j:()=>n});var s=a(184);function n(e){const{outTime:t,checkOut:a}=e,n=new Date(t),c=parseInt(n.getHours().toString().padStart(2,"0")),l=parseInt(n.getMinutes().toString().padStart(2,"0"));let r;if(a){let e=new Date(a),t=parseInt(e.getHours().toString().padStart(2,"0")),n=parseInt(e.getMinutes().toString().padStart(2,"0"));if(c===t)r=l<=n?(0,s.jsx)("span",{className:"bg-success text-white late-area",children:"On\u2800Time"}):(0,s.jsxs)("span",{className:"bg-danger text-white late-area",children:["00:",(l-n).toString().padStart(2,"0")]});else if(c>t){let e=60*c+l-(60*t+n);r=(0,s.jsxs)("span",{className:"bg-danger text-white late-area",children:[Math.floor(e/60).toString().padStart(2,"0"),":",(e%60).toString().padStart(2,"0")]})}else r=(0,s.jsx)("span",{className:"bg-success text-white late-area",children:"On\u2800Time"})}return r}const c=function(e){return"ONTIME"!==e.late?Number(e.late.slice(3,5))<=15&&Number(e.late.slice(0,2))<1?(0,s.jsx)("span",{className:"bg-warning text-white late-area",children:e.late}):(0,s.jsx)("span",{className:"bg-danger text-white late-area",children:e.late}):(0,s.jsx)("span",{className:"bg-success text-white late-area",children:"On\u2800Time"})}}}]);
//# sourceMappingURL=279.23ca8527.chunk.js.map