{"version":3,"file":"static/js/173.3ee818f4.chunk.js","mappings":"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","sources":["Pages/admin/dashboard.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAll } from \"../../store/admin/dashboard\";\nimport \"./dashboard.css\";\nimport { BiCoinStack } from \"react-icons/bi\";\nimport { GiBanknote } from \"react-icons/gi\";\nimport User from \"../../assets/images/user.jpg\";\nimport Chart from \"react-apexcharts\";\nimport Loader from \"../../Components/loader\";\nimport TitleCase from \"../../helper/title-case\";\nimport { Link } from \"react-router-dom\";\n\nfunction Dashboard(props) {\n  const dispatch = useDispatch();\n  const socket = props.socket\n  const jwt = props.jwt;\n\n  const data = useSelector((status) => status.dashboard);\n  useEffect(() => {\n    dispatch(getAll({ jwt }));\n  }, [dispatch, jwt]);\n\n  useEffect(()=>{\n    socket.emit(\"setuser\",{email:props.current_user.email, department: props.current_user.designation.department})\n\n    socket.emit('check_notice_admin')\n\n    socket.on('recive_notice_admin', (data)=>{\n      if(data.total_leave){\n        props.setLeave_new_notice(true)\n        props.setTotalLeave(data.total_leave)\n      }\n    })\n  },[props, socket])\n\n\n  const barChartAttendance = {\n    options: {\n      chart: {\n        id: \"basic-bar\",\n      },\n      xaxis: {\n        type: \"category\",\n        categories: [],\n        labels: {\n          formatter: function (val) {\n            return val;\n          },\n        },\n      },\n    },\n    series: [\n      {\n        name: \"Employee Count\",\n        data: [],\n      },\n    ],\n  };\n  const barChartSettings = {\n    options: {\n      chart: {\n        id: \"basic-bar\",\n      },\n      xaxis: {\n        categories: [],\n      },\n    },\n    series: [\n      {\n        data: [],\n      },\n    ],\n  };\n  const donoutChartSettings = {\n    options: {\n      labels: [],\n    },\n    series: [],\n  };\n  data.departmentWiseStaff.map((result) => {\n    return (\n      donoutChartSettings.series.push(result.no_of_users),\n      donoutChartSettings.options.labels.push(\n        result.name + \"(\" + result.user_head + \") : \" + result.no_of_users\n      )\n    );\n  });\n  data.attendance_chart.map((result) => {\n    return (\n      barChartAttendance.series[0].data.push(result.value),\n      barChartAttendance.options.xaxis.categories.push(result.date.slice(0, 10))\n    );\n  });\n  data.salary_chart.map((result) => {\n    return (\n      barChartSettings.series[0].data.push(result.value),\n      barChartSettings.options.xaxis.categories.push(result.date)\n    );\n  });\n  if (data.isLoading) return <Loader />;\n  return (\n    <div className=\"page-section p-4\">\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"d-flex\">\n            <img\n              src={\n                props.current_user.image_link\n                  ? props.current_user.image_link\n                  : User\n              }\n              alt=\"User\"\n              className=\"img-fluid rounded-circle\"\n              style={{ width: \"50px\", height: \"50px\" }}\n            />\n            <div className=\"ms-2\">\n              <h4 className=\"mb-0 rd\">\n                <TitleCase text={props.current_user.name} />\n              </h4>\n              <p className=\"text-muted mb-0\">{props.current_user.email}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"row mt-4\">\n        <div className=\"col-xl-3 col-lg-4 col-md-6 col-12\">\n          <div className=\"box-dashboard\">\n            <div className=\"d-flex align-items-center justify-content-between\">\n              <div className=\"box-dash\">\n                <Link to=\"/employees\">\n                  <h5 className=\"text-muted mb-4\"> Total Employees </h5>\n                </Link>\n                <h3 className=\"text-muted mb-0\">{data.total_employee}</h3>\n              </div>\n              <div className=\"text-danger\">\n                <GiBanknote />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-xl-3 col-lg-4 col-md-6 col-12\">\n          <div className=\"box-dashboard\">\n            <div className=\"d-flex align-items-center justify-content-between\">\n              <div className=\"box-dash\">\n                <Link to=\"/absent_present\" state={{ active: true }}>\n                  <h5 className=\"text-muted mb-4\">Present Employees</h5>\n                </Link>\n                <h3 className=\"text-muted mb-0\">\n                  {data.today_active_employee}\n                </h3>\n              </div>\n              <div className=\"text-danger\">\n                <BiCoinStack />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-xl-3 col-lg-4 col-md-6 col-12\">\n          <div className=\"box-dashboard\">\n            <div className=\"d-flex align-items-center justify-content-between\">\n              <div className=\"box-dash\">\n                <Link to=\"/absent_present\" state={{ active: false }}>\n                  <h5 className=\"text-muted mb-4\">Absent Employees </h5>\n                </Link>\n                <h3 className=\"text-muted mb-0\">{data.today_absent}</h3>\n              </div>\n              <div className=\"text-danger\">\n                <GiBanknote />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-xl-3 col-lg-4 col-md-6 col-12\">\n          <div className=\"box-dashboard\">\n            <div className=\"d-flex align-items-center justify-content-between\">\n              <div className=\"box-dash\">\n                <h5 className=\"text-muted mb-4\">\n                  {\" \"}\n                  Salary Amount <small>(Previous Month)</small>\n                </h5>\n                <h3 className=\"text-muted mb-0\">\n                  {\" \"}\n                  {data.previous_month_salary_amount}{\" \"}\n                </h3>\n              </div>\n              <div className=\"text-danger\">\n                <BiCoinStack />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"row mt-0\">\n        <div className=\"col-xl-6 col-lg-6 col-12\">\n          <div className=\"chart mt-4\">\n            <h4>Attendance Chart</h4>\n            <Chart\n              options={barChartAttendance.options}\n              series={barChartAttendance.series}\n              type=\"bar\"\n              width=\"100%\"\n            />\n          </div>\n        </div>\n        <div className=\"col-xl-6 col-lg-6 col-12\">\n          <div className=\"chart mt-4\">\n            <h4>Payroll monthly report</h4>\n            <Chart\n              options={barChartSettings.options}\n              series={barChartSettings.series}\n              type=\"line\"\n              width=\"100%\"\n            />\n          </div>\n        </div>\n        <div className=\"col-xl-6 col-lg-6 col-12\">\n          <div className=\"chart mt-4\">\n            <h4>Department wise staff</h4>\n            <Chart\n              options={donoutChartSettings.options}\n              series={donoutChartSettings.series}\n              type=\"pie\"\n              width=\"100%\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"names":["props","dispatch","useDispatch","socket","jwt","data","useSelector","status","dashboard","useEffect","getAll","emit","email","current_user","department","designation","on","total_leave","setLeave_new_notice","setTotalLeave","barChartAttendance","options","chart","id","xaxis","type","categories","labels","formatter","val","series","name","barChartSettings","donoutChartSettings","departmentWiseStaff","map","result","push","no_of_users","user_head","attendance_chart","value","date","slice","salary_chart","isLoading","_jsx","Loader","_jsxs","className","children","src","image_link","User","alt","style","width","height","TitleCase","text","Link","to","total_employee","GiBanknote","state","active","today_active_employee","BiCoinStack","today_absent","previous_month_salary_amount","Chart"],"sourceRoot":""}