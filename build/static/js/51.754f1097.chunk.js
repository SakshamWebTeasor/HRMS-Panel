"use strict";(self.webpackChunkhrm=self.webpackChunkhrm||[]).push([[51],{7051:function(e,t,s){s.r(t);var r=s(9439),a=s(2791),n=s(9434),i=s(5533),l=(s(4722),s(4578)),c=s(3360),d=s(4849),m=s(2591),h=s(5316),x=s(4608),o=s(5086),u=s(184);t.default=function(e){var t=(0,n.I0)(),s=e.jwt,j=(0,a.useRef)(),p=(0,a.useRef)(),f=(0,a.useRef)(),g=(0,a.useRef)(),N=(0,a.useRef)(),v=(0,a.useRef)(),Z=(0,a.useRef)(),w=(0,a.useRef)(),b=(0,a.useState)(!1),S=(0,r.Z)(b,2),y=S[0],_=S[1];(0,a.useEffect)((function(){t((0,i.go)({jwt:s}))}),[t,s]);var C=(0,n.v9)((function(e){return e.timeSlot}));return(0,a.useEffect)((function(){C.isError||(_(!1),j.current.value="",f.current.value=null,g.current.value=null,p.current.value=null)}),[C.isError]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"page-section p-4",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-xl-4 col-lg-5 col-md-12 col-12",children:(0,u.jsxs)("div",{className:"add-departmen chart",children:[(0,u.jsx)("h4",{className:"mb-4",children:"Add New Office Shift"}),(0,u.jsxs)(l.Z,{onSubmit:function(e){e.preventDefault();var r=new Date,a=f.current.value.split(":");r.setHours(parseInt(a[0])),r.setMinutes(parseInt(a[1])),r.setSeconds(0);var n=new Date,l=g.current.value.split(":");n.setHours(parseInt(l[0])),n.setMinutes(parseInt(l[1])),n.setSeconds(0),t((0,i.xK)({jwt:s,shift:j.current.value,startTime:r,endTime:n,lunchTime:p.current.value}))},children:[(0,u.jsxs)(l.Z.Group,{className:"my-3",children:[(0,u.jsxs)(l.Z.Label,{children:["Shift ",(0,u.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,u.jsx)(l.Z.Control,{type:"text","aria-label":"Default select example",placeholder:"Shift Name",ref:j,required:!0}),(0,u.jsx)("span",{className:"text-danger",children:C.errors.length>0?C.errors.map((function(e){return"shift"===e.param?(0,u.jsx)(x.Z,{text:e.msg},"err-1"):""})):""})]}),(0,u.jsxs)(l.Z.Group,{className:"my-3",controlId:"exampleForm.ControlInput1",children:[(0,u.jsxs)(l.Z.Label,{children:["Office Time ",(0,u.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,u.jsx)(l.Z.Control,{type:"time",ref:f,placeholder:"Title",required:!0}),(0,u.jsx)("span",{className:"text-danger",children:C.errors.length>0?C.errors.map((function(e){return"time_in"===e.param?(0,u.jsx)(x.Z,{text:e.msg},"err-2"):""})):""}),(0,u.jsx)("p",{className:"pt-2",children:"To"}),(0,u.jsx)(l.Z.Control,{type:"time",ref:g,placeholder:"Name",required:!0}),(0,u.jsx)("span",{className:"text-danger",children:C.errors.length>0?C.errors.map((function(e){return"time_out"===e.param?(0,u.jsx)(x.Z,{text:e.msg},"err-3"):""})):""})]}),(0,u.jsxs)(l.Z.Group,{className:"my-3",controlId:"exampleForm.ControlInput1",children:[(0,u.jsxs)(l.Z.Label,{children:["Lunch Duration(HH:MM) ",(0,u.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,u.jsx)(l.Z.Control,{type:"time",ref:p,placeholder:"enter time",required:!0}),(0,u.jsx)("span",{className:"text-danger",children:C.errors.length>0?C.errors.map((function(e){return"lunch_time"===e.param?(0,u.jsx)(x.Z,{text:e.msg},"err-4"):""})):""})]}),C.isSubmitting?(0,u.jsxs)(c.Z,{variant:"primary",className:"mt-4",children:[(0,u.jsx)(d.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"\u2800Save"]}):(0,u.jsx)(c.Z,{type:"submit",variant:"danger",className:"mt-4",children:"Save"})]})]})}),(0,u.jsx)("div",{className:"col-xl-8 col-lg-7 col-md-12 col-12",children:(0,u.jsxs)("div",{className:"add-departmen chart",children:[(0,u.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,u.jsx)("h4",{className:"mb-0",children:"List All Office Shift"})}),(0,u.jsx)("div",{className:"responsive mt-4",children:(0,u.jsxs)(m.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"text-white",children:"S.No."}),(0,u.jsx)("th",{className:"text-white",children:"Shift"}),(0,u.jsx)("th",{className:"text-white",children:"Office\u2800Timing"}),(0,u.jsx)("th",{className:"text-white",children:"Lunch\u2800Time"}),(0,u.jsx)("th",{className:"text-white",children:"Created\u2800At"}),(0,u.jsx)("th",{className:"text-white",children:"Status"}),(0,u.jsx)("th",{className:"text-white",children:"Action"})]})}),(0,u.jsx)("tbody",{children:C.isLoading?(0,u.jsx)("tr",{className:"text-center",children:(0,u.jsx)("td",{colSpan:7,children:"Loading..."})},0):C.allData.length>0?C.allData.map((function(e,r){return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:r+1}),(0,u.jsx)("td",{children:(0,u.jsx)(x.Z,{text:e.shift})}),(0,u.jsxs)("td",{children:[(0,u.jsx)(o.ZP,{time:e.time_in}),"\u2800-\u2800",(0,u.jsx)(o.ZP,{time:e.time_out})]}),(0,u.jsx)("td",{children:e.lunch_time}),(0,u.jsx)("td",{children:(0,u.jsx)(o.FU,{date_arg:e.created_at})}),(0,u.jsx)("td",{children:(0,u.jsx)("p",{className:e.active?"text-success":"text-danger",children:e.active?"Active":"Block"})}),(0,u.jsxs)("td",{className:"d-flex align-items-center",children:[(0,u.jsx)(c.Z,{onClick:function(){var s;s=e._id,_(!0),t((0,i.Hd)(s))},className:"btn btn-warning text-white",children:"Edit"}),!e.is_deleted&&(0,u.jsx)(c.Z,{onClick:function(){return t((0,i.Nf)({jwt:s,id:e._id,active:!e.active,data:e,index:r}))},className:e.active?"btn btn-danger text-white ms-2":"btn btn-primary text-white ms-2",variant:e.active?"danger":"primary",children:e.active?"Block":"Active"})]})]},r)})):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:8,className:"text-center",children:"No Data Found"})},0)})]})})]})})]})}),(0,u.jsxs)(h.Z,{show:y,onHide:function(){_(!1)},children:[(0,u.jsx)(h.Z.Header,{closeButton:!0,children:(0,u.jsx)(h.Z.Title,{children:"Update Office Timeing "})}),(0,u.jsx)(h.Z.Body,{children:(0,u.jsxs)(l.Z,{onSubmit:function(e){e.preventDefault();var r=new Date,a=Z.current.value.split(":");r.setHours(parseInt(a[0])),r.setMinutes(parseInt(a[1])),r.setSeconds(0);var n=new Date,l=N.current.value.split(":");n.setHours(parseInt(l[0])),n.setMinutes(parseInt(l[1])),n.setSeconds(0),console.log(r,n),t((0,i.Vs)({jwt:s,id:C.singledata[0]._id,shift:v.current.value,startTime:r,endTime:n,lunchTime:w.current.value}))},children:[(0,u.jsxs)(l.Z.Group,{className:"my-3",children:[(0,u.jsxs)(l.Z.Label,{children:["Shift ",(0,u.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,u.jsx)(l.Z.Control,{type:"text","aria-label":"Default select example",placeholder:"Shift Name",ref:v,defaultValue:C.singledata.length>0?C.singledata[0].shift:"",required:!0}),(0,u.jsx)("span",{className:"text-danger",children:C.editErrors.length>0?C.editErrors.map((function(e){return"shift"===e.param?(0,u.jsx)(x.Z,{text:e.msg},"editerr-1"):""})):""})]}),(0,u.jsxs)(l.Z.Group,{className:"my-3",controlId:"exampleForm.ControlInput1",children:[(0,u.jsxs)(l.Z.Label,{children:["Office Time ",(0,u.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,u.jsx)(l.Z.Control,{type:"time",ref:Z,defaultValue:C.singledata.length>0?(0,o.ZP)({time:C.singledata[0].time_in}):"",placeholder:"Name",required:!0}),(0,u.jsx)("span",{className:"text-danger",children:C.editErrors.length>0?C.editErrors.map((function(e){return"time_in"===e.param?(0,u.jsx)(x.Z,{text:e.msg},"editerr-2"):""})):""}),(0,u.jsx)("p",{className:"pt-2",children:"To"}),(0,u.jsx)(l.Z.Control,{type:"time",ref:N,defaultValue:C.singledata.length>0?(0,o.ZP)({time:C.singledata[0].time_out}):"",placeholder:"Name",required:!0}),(0,u.jsx)("span",{className:"text-danger",children:C.editErrors.length>0?C.editErrors.map((function(e){return"time_out"===e.param?(0,u.jsx)(x.Z,{text:e.msg},"editerr-3"):""})):""})]}),(0,u.jsxs)(l.Z.Group,{className:"my-3",controlId:"exampleForm.ControlInput1",children:[(0,u.jsxs)(l.Z.Label,{children:["Lunch Time ",(0,u.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,u.jsx)(l.Z.Control,{type:"time",defaultValue:C.singledata.length>0?C.singledata[0].lunch_time:"",ref:w,placeholder:"enter time",required:!0}),(0,u.jsx)("span",{className:"text-danger",children:C.editErrors.length>0?C.editErrors.map((function(e){return"lunch_time"===e.param?(0,u.jsx)(x.Z,{text:e.msg},"editerr-4"):""})):""})]}),C.isEditSubmitting?(0,u.jsxs)(c.Z,{variant:"danger",className:"mt-4",children:[(0,u.jsx)(d.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"\u2800Update"]}):(0,u.jsx)(c.Z,{type:"submit",variant:"danger",className:"mt-4",children:"Update"})]})})]})]})}}}]);
//# sourceMappingURL=51.754f1097.chunk.js.map