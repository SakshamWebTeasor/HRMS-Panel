"use strict";(self.webpackChunkhrm=self.webpackChunkhrm||[]).push([[133],{7133:(e,n,t)=>{t.r(n),t.d(n,{default:()=>v});var s=t(2791),a=t(9434),i=t(6550),r=t(8116),l=t(3360),d=t(2076),o=t(9485),c=t(1734),h=t(2591),x=t(4849),m=t(5316),u=t(8478),j=t(9513),g=t.n(j),p=(t(8639),t(184));const v=function(e){const n=(0,a.I0)(),t=e.jwt,[j,v]=(0,s.useState)(!1);let E=new Date;const[N,b]=(0,s.useState)(E.setMonth(E.getMonth()-1)),[y,Z]=(0,s.useState)(E),[f,w]=(0,s.useState)(),[S,P]=(0,s.useState)(),[C,O]=(0,s.useState)(!1),[k,D]=(0,s.useState)(!1),_=(0,a.v9)((e=>e.payRoll));(0,s.useEffect)((()=>{n((0,i.go)({jwt:t}))}),[n,t]),(0,s.useEffect)((()=>{_.isSubmitting||O(!1)}),[_.isSubmitting]);let K=[];for(let s=1;s<=_.pagination_allPendingData.totalpages;s++)K.push((0,p.jsx)(r.Z.Item,{active:s===Number(_.pagination_allPendingData.currentpage),onClick:()=>I(s),children:s},s));let T=[];for(let s=1;s<=_.pagination_allPaidData.totalpages;s++)T.push((0,p.jsx)(r.Z.Item,{active:s===Number(_.pagination_allPaidData.currentpage),onClick:()=>I(s),children:s},"deleted-"+s));const I=e=>{let s=_.is_search?new Date(y):new Date(N),a=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getFullYear();_.is_search?n((0,i.go)({jwt:t,month:"".concat(a,"-").concat(r),pageno:e,type:j?"paid":"pending",is_search:!0})):n((0,i.go)({jwt:t,pageno:e,type:j?"paid":"pending"}))};return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"page-section p-4",children:[(0,p.jsxs)("div",{className:"d-md-flex d-block justify-content-between align-items-center",children:[(0,p.jsxs)("h4",{className:"",children:["Payment Info for ",Date().toString().slice(0,16)]}),(0,p.jsx)(l.Z,{variant:"warning",id:"button-addon2",onClick:()=>O(!0),children:"Create Salary"})]}),(0,p.jsxs)("div",{className:"row align-items-center mt-4",children:[(0,p.jsx)("div",{className:"col-lg-3 col-12",children:(0,p.jsx)(d.Z,{className:"me-3 my-lg-0 my-3",children:(0,p.jsx)(g(),{selected:y,onChange:e=>{Z(e)},dateFormat:"MM/yyyy",showMonthYearPicker:!0})})}),(0,p.jsx)("div",{className:"col-lg-3 col-12",children:(0,p.jsx)(l.Z,{variant:"danger",id:"button-addon2",onClick:()=>{const e=new Date(y);let s=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getFullYear();n((0,i.go)({jwt:t,month:"".concat(s,"-").concat(a),is_search:!0}))},children:"Search"})})]}),(_.allPendingData.length>0||_.allPaidData.length>0)&&(0,p.jsxs)(o.Z,{defaultActiveKey:"pending",onSelect:e=>{v("pending"!==e)},children:[(0,p.jsx)(c.Z,{eventKey:"pending",title:"Pending",children:(0,p.jsxs)("div",{className:"responsive mt-4",children:[(0,p.jsxs)(h.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{className:"text-white",children:"S.No."}),(0,p.jsx)("th",{className:"text-white",children:"Employee"}),(0,p.jsx)("th",{className:"text-white",children:"Department"}),(0,p.jsx)("th",{className:"text-white",children:"Month"}),(0,p.jsx)("th",{className:"text-white",children:"Basic Salary"}),(0,p.jsx)("th",{className:"text-white",children:"Net Salary"}),(0,p.jsx)("th",{className:"text-white",children:"Salary Slip"}),(0,p.jsx)("th",{className:"text-white",children:"Status"})]})}),(0,p.jsx)("tbody",{children:_.isLoading?(0,p.jsx)("tr",{className:"text-center",children:(0,p.jsx)("td",{colSpan:8,children:"Loading..."})},"loading"):_.allPendingData.length>0?_.allPendingData.map(((e,n)=>(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:10*(_.pagination_allPendingData.currentpage-1)+(n+1)}),(0,p.jsx)("td",{children:(0,p.jsxs)("div",{className:"d-flex",children:[(0,p.jsx)("img",{src:e.users&&e.users.image_link?e.users.image_link:u,alt:"User",className:"img-fluid rounded-circle",style:{width:"40px",height:"40px"}}),(0,p.jsxs)("div",{className:"ms-3",children:[(0,p.jsx)("h6",{className:"mb-0 ",children:e.users?e.users.name+" ("+e.users.emp_code+")":"n/a"}),(0,p.jsx)("small",{className:"mb-0 text-muted",children:e.users?e.users.email:"n/a"})]})]})}),(0,p.jsx)("td",{children:(0,p.jsx)("div",{className:"d-flex",children:(0,p.jsxs)("div",{className:"ms-3",children:[(0,p.jsx)("h6",{className:"mb-0 ",children:e.users&&e.users.designation?e.users.designation.name:"n/a"}),(0,p.jsx)("small",{className:"mb-0 text-muted",children:e.users&&e.users.designation&&e.users.designation.department?e.users.designation.department.name:"n/a"})]})})}),(0,p.jsx)("td",{children:e.month}),(0,p.jsx)("td",{children:e.users?e.users.salary:"n/a"}),(0,p.jsx)("td",{children:e.amount}),(0,p.jsx)("td",{children:e.users?e.users.salary_slip?"Yes":"No":"n/a"}),(0,p.jsx)("td",{children:e.status?"Done":(0,p.jsx)(l.Z,{className:"btn btn-success text-white ",onClick:()=>((e,n)=>{w(e),P(n),D(!0)})(e._id,e.amount),children:"Pay"})})]},n))):(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:8,className:"text-center",children:"No Data Found"})},-1)})]}),(0,p.jsx)(r.Z,{children:K})]})}),(0,p.jsx)(c.Z,{eventKey:"paid",title:"paid",children:(0,p.jsxs)("div",{className:"responsive mt-4",children:[(0,p.jsxs)(h.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{className:"text-white",children:"S.No."}),(0,p.jsx)("th",{className:"text-white",children:"Employee"}),(0,p.jsx)("th",{className:"text-white",children:"Department"}),(0,p.jsx)("th",{className:"text-white",children:"Month"}),(0,p.jsx)("th",{className:"text-white",children:"Basic Salary"}),(0,p.jsx)("th",{className:"text-white",children:"Net Salary"}),(0,p.jsx)("th",{className:"text-white",children:"Salary Slip"}),(0,p.jsx)("th",{className:"text-white",children:"Salary Slip"})]})}),(0,p.jsx)("tbody",{children:_.isLoading?(0,p.jsx)("tr",{className:"text-center",children:(0,p.jsx)("td",{colSpan:8,children:"Loading..."})},"loading"):_.allPaidData.length>0?_.allPaidData.map(((e,s)=>(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:10*(_.pagination_allPaidData.currentpage-1)+(s+1)}),(0,p.jsx)("td",{children:(0,p.jsxs)("div",{className:"d-flex",children:[(0,p.jsx)("img",{src:e.users&&e.users.image_link?e.users.image_link:u,alt:"User",className:"img-fluid rounded-circle",style:{width:"40px",height:"40px"}}),(0,p.jsxs)("div",{className:"ms-3",children:[(0,p.jsx)("h6",{className:"mb-0 ",children:e.users?e.users.name:"n/a"}),(0,p.jsx)("small",{className:"mb-0 text-muted",children:e.users?e.users.email:"n/a"})]})]})}),(0,p.jsx)("td",{children:(0,p.jsx)("div",{className:"d-flex",children:(0,p.jsxs)("div",{className:"ms-3",children:[(0,p.jsx)("h6",{className:"mb-0 ",children:e.users&&e.users.designation?e.users.designation.name:"n/a"}),(0,p.jsx)("small",{className:"mb-0 text-muted",children:e.users&&e.users.designation&&e.users.designation.department?e.users.designation.department.name:"n/a"})]})})}),(0,p.jsx)("td",{children:e.month}),(0,p.jsx)("td",{children:e.users?e.users.salary:"n/a"}),(0,p.jsx)("td",{children:e.amount}),(0,p.jsx)("td",{children:e.users?e.users.salary_slip?"Yes":"No":"n/a"}),(0,p.jsx)("td",{children:e.pdf_path?(0,p.jsx)("a",{href:e.pdf_path,className:"ms-2 btn btn-success text-white",target:"_blank",rel:"noreferrer",children:"Download"}):_.isSubmittingGenerate?(0,p.jsxs)(l.Z,{variant:"primary",className:"ms-2",children:[(0,p.jsx)(x.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"\u2800Genrate"]}):(0,p.jsx)(l.Z,{variant:"primary",className:"ms-2",onClick:()=>(e=>{n((0,i.ZR)({jwt:t,id:e}))})(e._id),children:"Genrate"})})]},s))):(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:8,className:"text-center",children:"No Data Found"})},-1)})]}),(0,p.jsx)(r.Z,{children:T})]})})]}),(0,p.jsxs)(m.Z,{show:k,onHide:()=>D(!1),children:[(0,p.jsx)(m.Z.Header,{closeButton:!0,children:(0,p.jsx)(m.Z.Title,{children:"Payment"})}),(0,p.jsx)(m.Z.Body,{children:(0,p.jsxs)("pre",{children:["Total = ",S]})}),(0,p.jsxs)(m.Z.Footer,{children:[(0,p.jsx)(l.Z,{variant:"danger",onClick:()=>{n((0,i.c6)({jwt:t,id:f})),D(!1)},children:"Yes"}),(0,p.jsx)(l.Z,{variant:"primary",onClick:()=>{D(!1)},children:"No"})]})]}),(0,p.jsxs)(m.Z,{show:C,onHide:()=>O(!1),children:[(0,p.jsx)(m.Z.Header,{closeButton:!0,children:(0,p.jsx)(m.Z.Title,{children:"Payment"})}),(0,p.jsxs)(m.Z.Body,{children:[(0,p.jsx)("label",{children:"Select Date"}),(0,p.jsx)(g(),{selected:N,onChange:e=>{b(e)},dateFormat:"MM/yyyy",showMonthYearPicker:!0})]}),(0,p.jsxs)(m.Z.Footer,{children:[_.isSubmitting?(0,p.jsxs)(l.Z,{variant:"danger",children:[(0,p.jsx)(x.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Yes"]}):(0,p.jsx)(l.Z,{variant:"danger",onClick:()=>{(()=>{const e=new Date(N);let s=e.getMonth()+1,a=e.getFullYear();n((0,i.x2)({jwt:t,month:"".concat(a,"-").concat(s)}))})()},children:"Yes"}),(0,p.jsx)(l.Z,{variant:"primary",onClick:()=>{O(!1)},children:"No"})]})]})]})})}},551:(e,n,t)=>{t.d(n,{W:()=>x,Z:()=>u});var s=t(2791),a=t(165),i=t(8633),r=t(5666),l=t(184);const d=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],o=["activeKey","getControlledId","getControllerId"],c=["as"];function h(e,n){if(null==e)return{};var t,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)t=i[s],n.indexOf(t)>=0||(a[t]=e[t]);return a}function x(e){let{active:n,eventKey:t,mountOnEnter:r,transition:l,unmountOnExit:c,role:x="tabpanel",onEnter:m,onEntering:u,onEntered:j,onExit:g,onExiting:p,onExited:v}=e,E=h(e,d);const N=(0,s.useContext)(a.Z);if(!N)return[Object.assign({},E,{role:x}),{eventKey:t,isActive:n,mountOnEnter:r,transition:l,unmountOnExit:c,onEnter:m,onEntering:u,onEntered:j,onExit:g,onExiting:p,onExited:v}];const{activeKey:b,getControlledId:y,getControllerId:Z}=N,f=h(N,o),w=(0,i.h)(t);return[Object.assign({},E,{role:x,id:y(t),"aria-labelledby":Z(t)}),{eventKey:t,isActive:null==n&&null!=w?(0,i.h)(b)===w:n,transition:l||f.transition,mountOnEnter:null!=r?r:f.mountOnEnter,unmountOnExit:null!=c?c:f.unmountOnExit,onEnter:m,onEntering:u,onEntered:j,onExit:g,onExiting:p,onExited:v}]}const m=s.forwardRef(((e,n)=>{let{as:t="div"}=e,s=h(e,c);const[d,{isActive:o,onEnter:m,onEntering:u,onEntered:j,onExit:g,onExiting:p,onExited:v,mountOnEnter:E,unmountOnExit:N,transition:b=r.Z}]=x(s);return(0,l.jsx)(a.Z.Provider,{value:null,children:(0,l.jsx)(i.Z.Provider,{value:null,children:(0,l.jsx)(b,{in:o,onEnter:m,onEntering:u,onEntered:j,onExit:g,onExiting:p,onExited:v,mountOnEnter:E,unmountOnExit:N,children:(0,l.jsx)(t,Object.assign({},d,{ref:n,hidden:!o,"aria-hidden":!o}))})})})}));m.displayName="TabPanel";const u=m},5561:(e,n,t)=>{t.d(n,{Z:()=>h});var s=t(2791),a=t(3722),i=t(9181),r=t(165),l=t(8633),d=t(551),o=t(184);const c=e=>{const{id:n,generateChildId:t,onSelect:d,activeKey:c,defaultActiveKey:h,transition:x,mountOnEnter:m,unmountOnExit:u,children:j}=e,[g,p]=(0,a.$c)(c,h,d),v=(0,i.gP)(n),E=(0,s.useMemo)((()=>t||((e,n)=>v?"".concat(v,"-").concat(n,"-").concat(e):null)),[v,t]),N=(0,s.useMemo)((()=>({onSelect:p,activeKey:g,transition:x,mountOnEnter:m||!1,unmountOnExit:u||!1,getControlledId:e=>E(e,"tabpane"),getControllerId:e=>E(e,"tab")})),[p,g,x,m,u,E]);return(0,o.jsx)(r.Z.Provider,{value:N,children:(0,o.jsx)(l.Z.Provider,{value:p||null,children:j})})};c.Panel=d.Z;const h=c},2076:(e,n,t)=>{t.d(n,{Z:()=>m});var s=t(1418),a=t.n(s),i=t(2791),r=t(162),l=t(6882),d=t(1991),o=t(184);const c=i.forwardRef(((e,n)=>{let{className:t,bsPrefix:s,as:i="span",...l}=e;return s=(0,r.vE)(s,"input-group-text"),(0,o.jsx)(i,{ref:n,className:a()(t,s),...l})}));c.displayName="InputGroupText";const h=c,x=i.forwardRef(((e,n)=>{let{bsPrefix:t,size:s,hasValidation:l,className:c,as:h="div",...x}=e;t=(0,r.vE)(t,"input-group");const m=(0,i.useMemo)((()=>({})),[]);return(0,o.jsx)(d.Z.Provider,{value:m,children:(0,o.jsx)(h,{ref:n,...x,className:a()(c,t,s&&"".concat(t,"-").concat(s),l&&"has-validation")})})}));x.displayName="InputGroup";const m=Object.assign(x,{Text:h,Radio:e=>(0,o.jsx)(h,{children:(0,o.jsx)(l.Z,{type:"radio",...e})}),Checkbox:e=>(0,o.jsx)(h,{children:(0,o.jsx)(l.Z,{type:"checkbox",...e})})})},1734:(e,n,t)=>{t.d(n,{Z:()=>u});var s=t(2007),a=t.n(s),i=(t(2791),t(5561)),r=t(3507),l=t(184);const d=e=>{let{transition:n,...t}=e;return(0,l.jsx)(i.Z,{...t,transition:(0,r.Z)(n)})};d.displayName="TabContainer";const o=d;var c=t(4886),h=t(4504);const x={eventKey:a().oneOfType([a().string,a().number]),title:a().node.isRequired,disabled:a().bool,tabClassName:a().string,tabAttrs:a().object},m=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};m.propTypes=x;const u=Object.assign(m,{Container:o,Content:c.Z,Pane:h.Z})},4886:(e,n,t)=>{t.d(n,{Z:()=>o});var s=t(2791),a=t(1418),i=t.n(a),r=t(162),l=t(184);const d=s.forwardRef(((e,n)=>{let{className:t,bsPrefix:s,as:a="div",...d}=e;return s=(0,r.vE)(s,"tab-content"),(0,l.jsx)(a,{ref:n,className:i()(t,s),...d})}));d.displayName="TabContent";const o=d},4504:(e,n,t)=>{t.d(n,{Z:()=>u});var s=t(1418),a=t.n(s),i=t(2791),r=t(8633),l=t(165),d=t(551),o=t(162),c=t(2709),h=t(3507),x=t(184);const m=i.forwardRef(((e,n)=>{let{bsPrefix:t,transition:s,...i}=e;const[{className:m,as:u="div",...j},{isActive:g,onEnter:p,onEntering:v,onEntered:E,onExit:N,onExiting:b,onExited:y,mountOnEnter:Z,unmountOnExit:f,transition:w=c.Z}]=(0,d.W)({...i,transition:(0,h.Z)(s)}),S=(0,o.vE)(t,"tab-pane");return(0,x.jsx)(l.Z.Provider,{value:null,children:(0,x.jsx)(r.Z.Provider,{value:null,children:(0,x.jsx)(w,{in:g,onEnter:p,onEntering:v,onEntered:E,onExit:N,onExiting:b,onExited:y,mountOnEnter:Z,unmountOnExit:f,children:(0,x.jsx)(u,{...j,ref:n,className:a()(m,S,g&&"active")})})})})}));m.displayName="TabPane";const u=m},9485:(e,n,t)=>{t.d(n,{Z:()=>g});t(2791);var s=t(239),a=t(5561),i=t(6387),r=t(9102),l=t(881),d=t(4886),o=t(4504),c=t(1701),h=t(3507),x=t(184);function m(e){let n;return(0,c.Ed)(e,(e=>{null==n&&(n=e.props.eventKey)})),n}function u(e){const{title:n,eventKey:t,disabled:s,tabClassName:a,tabAttrs:i,id:d}=e.props;return null==n?null:(0,x.jsx)(l.Z,{as:"li",role:"presentation",children:(0,x.jsx)(r.Z,{as:"button",type:"button",eventKey:t,disabled:s,id:d,className:a,...i,children:n})})}const j=e=>{const{id:n,onSelect:t,transition:r,mountOnEnter:l=!1,unmountOnExit:j=!1,variant:g="tabs",children:p,activeKey:v=m(p),...E}=(0,s.Ch)(e,{activeKey:"onSelect"});return(0,x.jsxs)(a.Z,{id:n,activeKey:v,onSelect:t,transition:(0,h.Z)(r),mountOnEnter:l,unmountOnExit:j,children:[(0,x.jsx)(i.Z,{...E,role:"tablist",as:"ul",variant:g,children:(0,c.UI)(p,u)}),(0,x.jsx)(d.Z,{children:(0,c.UI)(p,(e=>{const n={...e.props};return delete n.title,delete n.disabled,delete n.tabClassName,delete n.tabAttrs,(0,x.jsx)(o.Z,{...n})}))})]})};j.displayName="Tabs";const g=j},3507:(e,n,t)=>{t.d(n,{Z:()=>i});var s=t(5666),a=t(2709);function i(e){return"boolean"===typeof e?e?a.Z:s.Z:e}}}]);
//# sourceMappingURL=133.4fc0feee.chunk.js.map