{"version":3,"file":"static/js/173.b32dbbca.chunk.js","mappings":"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","sources":["Pages/admin/dashboard.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAll } from \"../../store/admin/dashboard\";\r\nimport \"./dashboard.css\";\r\nimport { BiCoinStack } from \"react-icons/bi\";\r\nimport { GiBanknote } from \"react-icons/gi\";\r\nimport User from \"../../assets/images/wt2.png\";\r\nimport Chart from \"react-apexcharts\";\r\nimport Loader from \"../../Components/loader\";\r\nimport TitleCase from \"../../helper/title-case\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Dashboard(props) {\r\n  const dispatch = useDispatch();\r\n  const socket = props.socket\r\n  const jwt = props.jwt;\r\n\r\n  const data = useSelector((status) => status.dashboard);\r\n  useEffect(() => {\r\n    dispatch(getAll({ jwt }));\r\n  }, [dispatch, jwt]);\r\n\r\n  useEffect(()=>{\r\n    socket.emit(\"setuser\",{email:props.current_user.email, department: props.current_user.designation.department})\r\n\r\n    socket.emit('check_notice_admin')\r\n\r\n    socket.on('recive_notice_admin', (data)=>{\r\n      if(data.total_leave){\r\n        props.setLeave_new_notice(true)\r\n        props.setTotalLeave(data.total_leave)\r\n      }\r\n    })\r\n  },[props, socket])\r\n\r\n\r\n  const barChartAttendance = {\r\n    options: {\r\n      chart: {\r\n        id: \"basic-bar\",\r\n      },\r\n      xaxis: {\r\n        type: \"category\",\r\n        categories: [],\r\n        labels: {\r\n          formatter: function (val) {\r\n            return val;\r\n          },\r\n        },\r\n      },\r\n    },\r\n    series: [\r\n      {\r\n        name: \"Employee Count\",\r\n        data: [],\r\n      },\r\n    ],\r\n  };\r\n  const barChartSettings = {\r\n    options: {\r\n      chart: {\r\n        id: \"basic-bar\",\r\n      },\r\n      xaxis: {\r\n        categories: [],\r\n      },\r\n    },\r\n    series: [\r\n      {\r\n        data: [],\r\n      },\r\n    ],\r\n  };\r\n  const donoutChartSettings = {\r\n    options: {\r\n      labels: [],\r\n    },\r\n    series: [],\r\n  };\r\n  data.departmentWiseStaff.map((result) => {\r\n    return (\r\n      donoutChartSettings.series.push(result.no_of_users),\r\n      donoutChartSettings.options.labels.push(\r\n        result.name + \"(\" + result.user_head + \") : \" + result.no_of_users\r\n      )\r\n    );\r\n  });\r\n  data.attendance_chart.map((result) => {\r\n    return (\r\n      barChartAttendance.series[0].data.push(result.value),\r\n      barChartAttendance.options.xaxis.categories.push(result.date.slice(0, 10))\r\n    );\r\n  });\r\n  data.salary_chart.map((result) => {\r\n    return (\r\n      barChartSettings.series[0].data.push(result.value),\r\n      barChartSettings.options.xaxis.categories.push(result.date)\r\n    );\r\n  });\r\n  if (data.isLoading) return <Loader />;\r\n  return (\r\n    <div className=\"page-section p-4\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <div className=\"d-flex\">\r\n            <img\r\n              src={\r\n                props.current_user.image_link\r\n                  ? props.current_user.image_link\r\n                  : User\r\n              }\r\n              alt=\"User\"\r\n              className=\"img-fluid rounded-circle\"\r\n              style={{ width: \"50px\", height: \"50px\" }}\r\n            />\r\n            <div className=\"ms-2\">\r\n              <h4 className=\"mb-0 rd\">\r\n                <TitleCase text={props.current_user.name} />\r\n              </h4>\r\n              <p className=\"text-muted mb-0\">{props.current_user.email}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row mt-4\">\r\n        <div className=\"col-xl-3 col-lg-4 col-md-6 col-12\">\r\n          <div className=\"box-dashboard\">\r\n            <div className=\"d-flex align-items-center justify-content-between\">\r\n              <div className=\"box-dash\">\r\n                <Link to=\"/employees\">\r\n                  <h5 className=\"text-muted mb-4\"> Total Employees </h5>\r\n                </Link>\r\n                <h3 className=\"text-muted mb-0\">{data.total_employee}</h3>\r\n              </div>\r\n              <div className=\"text-danger\">\r\n                <GiBanknote />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-xl-3 col-lg-4 col-md-6 col-12\">\r\n          <div className=\"box-dashboard\">\r\n            <div className=\"d-flex align-items-center justify-content-between\">\r\n              <div className=\"box-dash\">\r\n                <Link to=\"/absent_present\" state={{ active: true }}>\r\n                  <h5 className=\"text-muted mb-4\">Present Employees</h5>\r\n                </Link>\r\n                <h3 className=\"text-muted mb-0\">\r\n                  {data.today_active_employee}\r\n                </h3>\r\n              </div>\r\n              <div className=\"text-danger\">\r\n                <BiCoinStack />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-xl-3 col-lg-4 col-md-6 col-12\">\r\n          <div className=\"box-dashboard\">\r\n            <div className=\"d-flex align-items-center justify-content-between\">\r\n              <div className=\"box-dash\">\r\n                <Link to=\"/absent_present\" state={{ active: false }}>\r\n                  <h5 className=\"text-muted mb-4\">Absent Employees </h5>\r\n                </Link>\r\n                <h3 className=\"text-muted mb-0\">{data.today_absent}</h3>\r\n              </div>\r\n              <div className=\"text-danger\">\r\n                <GiBanknote />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-xl-3 col-lg-4 col-md-6 col-12\">\r\n          <div className=\"box-dashboard\">\r\n            <div className=\"d-flex align-items-center justify-content-between\">\r\n              <div className=\"box-dash\">\r\n                <h5 className=\"text-muted mb-4\">\r\n                  {\" \"}\r\n                  Salary Amount <small>(Previous Month)</small>\r\n                </h5>\r\n                <h3 className=\"text-muted mb-0\">\r\n                  {\" \"}\r\n                  {data.previous_month_salary_amount}{\" \"}\r\n                </h3>\r\n              </div>\r\n              <div className=\"text-danger\">\r\n                <BiCoinStack />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row mt-0\">\r\n        <div className=\"col-xl-6 col-lg-6 col-12\">\r\n          <div className=\"chart mt-4\">\r\n            <h4>Attendance Chart</h4>\r\n            <Chart\r\n              options={barChartAttendance.options}\r\n              series={barChartAttendance.series}\r\n              type=\"bar\"\r\n              width=\"100%\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-xl-6 col-lg-6 col-12\">\r\n          <div className=\"chart mt-4\">\r\n            <h4>Payroll monthly report</h4>\r\n            <Chart\r\n              options={barChartSettings.options}\r\n              series={barChartSettings.series}\r\n              type=\"line\"\r\n              width=\"100%\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-xl-6 col-lg-6 col-12\">\r\n          <div className=\"chart mt-4\">\r\n            <h4>Department wise staff</h4>\r\n            <Chart\r\n              options={donoutChartSettings.options}\r\n              series={donoutChartSettings.series}\r\n              type=\"pie\"\r\n              width=\"100%\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"names":["props","dispatch","useDispatch","socket","jwt","data","useSelector","status","dashboard","useEffect","getAll","emit","email","current_user","department","designation","on","total_leave","setLeave_new_notice","setTotalLeave","barChartAttendance","options","chart","id","xaxis","type","categories","labels","formatter","val","series","name","barChartSettings","donoutChartSettings","departmentWiseStaff","map","result","push","no_of_users","user_head","attendance_chart","value","date","slice","salary_chart","isLoading","_jsx","Loader","_jsxs","className","children","src","image_link","User","alt","style","width","height","TitleCase","text","Link","to","total_employee","GiBanknote","state","active","today_active_employee","BiCoinStack","today_absent","previous_month_salary_amount","Chart"],"sourceRoot":""}