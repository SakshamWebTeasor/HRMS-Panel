"use strict";(self.webpackChunkhrm=self.webpackChunkhrm||[]).push([[196],{8196:(e,s,r)=>{r.r(s),r.d(s,{default:()=>N});var t=r(2791),a=r(9434),n=r(7016),l=r(4688),i=r(3360),d=r(2076),c=r(2591),o=r(5316),x=r(8116),m=r(4849),h=r(4373),j=r(763),u=r(4608),p=r(1462),g=r(184);const N=function(e){const s=(0,a.I0)(),r=e.jwt,N=(0,t.useRef)(),Z=(0,t.useRef)(),v=(0,t.useRef)(),f=(0,t.useRef)(),b=(0,t.useRef)(),w=(0,t.useRef)(),y=(0,t.useRef)(),C=(0,t.useRef)(),D=(0,t.useRef)(),[S,_]=(0,t.useState)(!1),[E,k]=(0,t.useState)(!1),[F,R]=(0,t.useState)(),I=(0,a.v9)((e=>e.holiday));(0,t.useEffect)((()=>{s((0,n.go)({jwt:r}))}),[s,r]),(0,t.useEffect)((()=>{I.isError||(k(!1),s((0,n.e2)()),N.current.value=null,v.current.value=null,b.current.value=null,w.current.value=null)}),[I.isError,s]);const L=(0,j.debounce)((()=>{let e=D.current.value;0===e.length&&s((0,n.go)({jwt:r})),e.length>=3&&s((0,n.ic)({jwt:r,searchKey:e}))}),500),q=()=>{_(!1)},H=e=>{I.isSerch?s((0,n.ic)({jwt:r,pageno:e,searchKey:D.current.value})):s((0,n.go)({jwt:r,pageno:e,param:I.sorting_on.field,x:I.sorting_on.sort}))};let T=[];for(let t=1;t<=I.totalpages;t++)T.push((0,g.jsx)(x.Z.Item,{active:t===Number(I.currentpage),onClick:()=>H(t),children:t},t));return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"page-section p-4",children:(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-xl-4 col-lg-5 col-md-12 col-12",children:(0,g.jsxs)("div",{className:"add-departmen chart",children:[(0,g.jsx)("h4",{className:"mb-4",children:"Add New Holiday"}),(0,g.jsxs)(l.Z,{onSubmit:e=>{e.preventDefault(),s((0,n.xK)({jwt:r,name:N.current.value,description:v.current.value,start:b.current.value,end:w.current.value,total:I.allData.length}))},children:[(0,g.jsxs)(l.Z.Group,{className:"my-3",controlId:"exampleForm.ControlInput1",children:[(0,g.jsxs)(l.Z.Label,{children:["Title ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(l.Z.Control,{type:"text",ref:N,placeholder:"Name",required:!0}),(0,g.jsx)("span",{className:"text-danger",children:I.errors.length>0?I.errors.map((e=>"name"===e.param?(0,g.jsx)(u.Z,{text:e.msg},"err-1"):"")):""})]}),(0,g.jsxs)(l.Z.Group,{className:"mb-0",controlId:"exampleForm.ControlTextarea1",children:[(0,g.jsxs)(l.Z.Label,{children:["Description ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(l.Z.Control,{as:"textarea",ref:v,rows:3,placeholder:"Description",required:!0}),(0,g.jsx)("span",{className:"text-danger",children:I.errors.length>0?I.errors.map((e=>"description"===e.param?(0,g.jsx)(u.Z,{text:e.msg},"err-2"):"")):""})]}),(0,g.jsxs)(l.Z.Group,{controlId:"formFile",className:"mt-3",children:[(0,g.jsxs)(l.Z.Label,{children:["Date ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(l.Z.Control,{ref:b,type:"date",min:"2022-01-01",max:"3000-01-01",required:!0}),(0,g.jsx)("span",{className:"text-danger",children:I.errors.length>0?I.errors.map((e=>"start_date"===e.param?(0,g.jsx)(u.Z,{text:e.msg},"err-3"):"")):""}),(0,g.jsx)("p",{className:"pt-2",children:"To"}),(0,g.jsx)(l.Z.Control,{ref:w,type:"date",min:"2022-01-01",max:"3000-01-01",required:!0}),(0,g.jsx)("span",{className:"text-danger",children:I.errors.length>0?I.errors.map((e=>"end_date"===e.param?(0,g.jsx)(u.Z,{text:e.msg},"err-4"):"")):""})]}),I.isSubmitting?(0,g.jsxs)(i.Z,{variant:"primary",className:"mt-4",children:[(0,g.jsx)(m.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"\u2800Save"]}):(0,g.jsx)(i.Z,{type:"submit",variant:"danger",className:"mt-4",children:"Save"})]})]})}),(0,g.jsx)("div",{className:"col-xl-8 col-lg-7 col-md-12 col-12",children:(0,g.jsxs)("div",{className:"add-departmen chart",children:[(0,g.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,g.jsx)("h4",{className:"mb-0",children:"List All Holidays"})}),(0,g.jsxs)("div",{className:"row align-items-center justify-content-between mt-4",children:[(0,g.jsx)("div",{className:"col-lg-3 col-12"}),(0,g.jsx)("div",{className:"col-lg-3 col-12",children:(0,g.jsx)(d.Z,{className:"me-3 my-lg-0 my-3",children:(0,g.jsx)(l.Z.Control,{placeholder:"Search....",onChange:L,ref:D,"aria-label":"Recipient's username","aria-describedby":"basic-addon2"})})})]}),(0,g.jsx)("div",{className:"responsive mt-4",children:(0,g.jsxs)(c.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"text-white",children:"S.No."}),(0,g.jsxs)("th",{className:"text-white",onClick:()=>{return e="name",void s((0,n.go)({jwt:r,param:e,x:!I.sorting_on.sort}));var e},children:["Name","name"===I.sorting_on.field?I.sorting_on.sort?(0,g.jsx)("span",{className:"text-white",children:(0,g.jsx)(h.KKI,{})}):(0,g.jsx)("span",{style:{color:"#fff",position:"relative",right:"0"},children:(0,g.jsx)(h.mLR,{})}):(0,g.jsx)(g.Fragment,{})]}),(0,g.jsx)("th",{className:"text-white",children:"Description"}),(0,g.jsx)("th",{className:"text-white",children:"Date"}),(0,g.jsx)("th",{className:"text-white",children:"Action"})]})}),(0,g.jsx)("tbody",{children:I.isLoading?(0,g.jsx)("tr",{className:"text-center",children:(0,g.jsx)("td",{colSpan:8,children:"Loading..."})},0):I.allData.length>0?I.allData.map(((e,r)=>(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:10*(I.currentpage-1)+(r+1)}),(0,g.jsx)("td",{children:(0,g.jsx)(u.Z,{text:e.name})}),(0,g.jsx)("td",{children:(0,g.jsx)(p.Z,{text:e.description,limit:40})}),(0,g.jsxs)("td",{children:[e.start_date.slice(0,10)," To"," ",e.end_date.slice(0,10)]}),(0,g.jsxs)("td",{className:"d-lg-block d-flex align-items-center",children:[(0,g.jsx)(i.Z,{onClick:()=>{var r;r=e._id,k(!0),s((0,n.Hd)(r))},className:"ms-2 btn btn-warning text-white",children:"Edit"}),(0,g.jsx)(i.Z,{variant:"danger",className:"ms-2",onClick:()=>{(e=>{_(!0),R(e)})(e._id)},children:"Delete"})]})]},r))):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:8,className:"text-center",children:"No Data Found"})},0)})]})}),(0,g.jsx)(x.Z,{children:T})]})})]})}),(0,g.jsxs)(o.Z,{show:S,onHide:q,children:[(0,g.jsx)(o.Z.Header,{closeButton:!0,children:(0,g.jsx)(o.Z.Title,{children:"Delete"})}),(0,g.jsx)(o.Z.Body,{children:"Do you really want to delete?"}),(0,g.jsxs)(o.Z.Footer,{children:[(0,g.jsx)(i.Z,{variant:"danger",onClick:()=>{q(),s((0,n.JS)({jwt:r,id:F,pageno:1===I.allData.length&&I.currentpage>1?Number(I.currentpage)-1:I.currentpage}))},children:"Yes"}),(0,g.jsx)(i.Z,{variant:"primary",onClick:q,children:"No"})]})]}),(0,g.jsxs)(o.Z,{show:E,onHide:()=>{k(!1)},children:[(0,g.jsx)(o.Z.Header,{closeButton:!0,children:(0,g.jsx)(o.Z.Title,{children:"Edit Holiday"})}),(0,g.jsx)(o.Z.Body,{children:(0,g.jsxs)(l.Z,{onSubmit:e=>{e.preventDefault(),s((0,n.Vs)({jwt:r,id:I.singledata[0]._id,name:Z.current.value,description:f.current.value,start:y.current.value,end:C.current.value}))},children:[(0,g.jsxs)(l.Z.Group,{className:"my-3",controlId:"exampleForm.ControlInput1",children:[(0,g.jsxs)(l.Z.Label,{children:["Name ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(l.Z.Control,{type:"text",ref:Z,defaultValue:I.singledata.length>0?I.singledata[0].name:"",placeholder:"Name",required:!0}),(0,g.jsx)("span",{className:"text-danger",children:I.editErrors.length>0?I.editErrors.map((e=>"name"===e.param?(0,g.jsx)(u.Z,{text:e.msg},"editerr-1"):"")):""})]}),(0,g.jsxs)(l.Z.Group,{className:"mb-0",controlId:"exampleForm.ControlTextarea1",children:[(0,g.jsxs)(l.Z.Label,{children:["Description ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(l.Z.Control,{as:"textarea",ref:f,defaultValue:I.singledata.length>0?I.singledata[0].description:"",rows:3,placeholder:"Description",required:!0}),(0,g.jsx)("span",{className:"text-danger",children:I.editErrors.length>0?I.editErrors.map((e=>"description"===e.param?(0,g.jsx)(u.Z,{text:e.msg},"editerr-2"):"")):""})]}),(0,g.jsx)("div",{className:"d-block align-items-center justify-content-between",children:(0,g.jsxs)(l.Z.Group,{controlId:"formFile",className:"mt-3",children:[(0,g.jsxs)(l.Z.Label,{children:["Date ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(l.Z.Control,{ref:y,defaultValue:I.singledata.length>0?I.singledata[0].start_date.slice(0,10):"",type:"date",min:"2022-01-01",max:"3000-01-01",required:!0}),(0,g.jsx)("span",{className:"text-danger",children:I.editErrors.length>0?I.editErrors.map((e=>"start_date"===e.param?(0,g.jsx)(u.Z,{text:e.msg},"editerr-3"):"")):""}),(0,g.jsx)("p",{className:"pt-2",children:"To"}),(0,g.jsx)(l.Z.Control,{ref:C,defaultValue:I.singledata.length>0?I.singledata[0].end_date.slice(0,10):"",type:"date",min:"2022-01-01",max:"3000-01-01",required:!0}),(0,g.jsx)("span",{className:"text-danger",children:I.editErrors.length>0?I.editErrors.map((e=>"end_date"===e.param?(0,g.jsx)(u.Z,{text:e.msg},"editerr-4"):"")):""})]})}),I.isEditSubmit?(0,g.jsxs)(i.Z,{variant:"primary",className:"mt-4",children:[(0,g.jsx)(m.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"\u2800Update"]}):(0,g.jsx)(i.Z,{type:"submit",variant:"danger",className:"mt-4",children:"Update"})]})})]})]})}},1462:(e,s,r)=>{r.d(s,{Z:()=>n});var t=r(2791),a=r(184);const n=function(e){const s=e.text,r=e.limit,[n,l]=(0,t.useState)(!1);return(0,a.jsx)(a.Fragment,{children:s?(0,a.jsxs)(a.Fragment,{children:[n?s:s.substr(0,e.limit),s.length>r&&(0,a.jsx)("button",{onClick:()=>l(!n),children:n?"...Read Less":"...Read More"})]}):(0,a.jsx)(a.Fragment,{})})}}}]);
//# sourceMappingURL=196.7f9593a3.chunk.js.map